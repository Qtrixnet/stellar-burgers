{"version":3,"sources":["components/header/header.module.css","components/ingredient/ingredient.module.css","components/header/header.jsx","utils/get-coords.js","utils/Api.js","utils/constants.js","services/actions/ingredients.js","services/actions/popup.js","components/ingredient/ingredient.jsx","components/burger-ingredients/burger-ingredients.jsx","utils/compare-coords.js","services/actions/order.js","components/chosen-ingredient/chosen-ingredient.jsx","components/burger-constructor/burger-constructor.jsx","components/main/main.jsx","images/done.gif","components/order-details/order-details.jsx","components/ingredient-details/ingredient-details.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/loader/loader.jsx","components/app/app.jsx","services/reducers/ingredients.js","services/reducers/order.js","services/reducers/popup.js","services/reducers/index.js","services/store.js","index.js","components/burger-ingredients/burger-ingredients.module.css","components/ingredient-details/ingredient-details.module.css","components/burger-constructor/burger-constructor.module.css","components/modal/modal.module.css","components/order-details/order-details.module.css","components/main/main.module.css","components/loader/loader.module.css","components/app/app.module.css","components/chosen-ingredient/chosen-ingredient.module.css","components/modal-overlay/modal-overlay.module.css"],"names":["module","exports","Header","className","headerStyles","header","headerContainer","list","link_active","link","to","type","logo","profile","getCoords","elem","box","getBoundingClientRect","top","Math","round","scrollY","left","scrollX","mainApi","data","this","_baseUrl","res","ok","json","Promise","reject","status","statusText","fetch","then","_requestResult","ingredientsIds","burgerData","method","headers","body","JSON","stringify","GET_INGREDIENTS","GET_INGREDIENTS_FAILED","GET_INGREDIENTS_SUCCESS","SELECT_INGREDIENT","DELETE_SELECTED_INGREDIENT","ADD_INGREDIENT","DELETE_INGREDIENT","DELETE_ALL_INGREDIENTS","SORT_INGREDIENTS","addIngredient","newIngredientsArray","modifiedArray","map","ingredientObject","ingredientCopy","Object","assign","uuid","generateUniqueId","payload","CHANGE_ORDER_DETAILS_POPUP_STATE","CHANGE_INGREDIENTS_POPUP_STATE","changeOrderDetailsPopupState","changeIngredientsPopupState","Ingredient","ingredient","image","price","name","_id","dispatch","useDispatch","chosenIngredients","useSelector","state","ingredientsData","initialIngredients","ingredients","useDrag","item","collect","monitor","isDrag","isDragging","dragRef","ingredientCounter","forEach","onContextMenu","evt","preventDefault","targetIngredient","find","currentTarget","dataset","id","selectedBun","selectedBunIndex","indexOf","chosenIngredientsClone","slice","splice","onClick","foundIngredient","selectIngredient","ingredientStyles","list_item","moving","ref","alt","src","price_info","text","count","size","hint_icons","left_click_icon","right_click_icon","drag_icon","BurgerIngredients","useState","current","setCurrent","handleTabClick","document","querySelector","scrollIntoView","block","behavior","burgerIngredientsStyle","main_container","style","display","value","active","onScroll","target","addEventListener","bunTitleTopCoords","sauceTitleTopCoords","mainTitleTopCoords","mainContainerTopCoords","absoluteCoords","title","abs","coordsValues","coord","minValue","min","compareCoords","ingredients_container","GET_ORDER_DATA","GET_ORDER_DATA_FAILED","GET_ORDER_DATA_SUCCESS","DELETE_ORDER_DATA","getOrderData","sendIngredients","setOrderDataLoadingSuccess","catch","ChosenIngredient","moveIngredient","index","useRef","useDrop","accept","handlerId","getHandlerId","drop","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","opacity","drag","chosenIngredientStyle","thumbnail","handleClose","selectedIngredientIndex","BurgerConstructor","onDropHandler","totalSumm","useMemo","reduce","acc","cur","ingredientId","isHover","isOver","burgerIngredientsContainer","useCallback","ingredientWithTypeBan","filter","ingredientsWithoutBan","sortedIngredients","update","$splice","sortedInregientsWithBun","borderColor","bunElementHandler","property","trueValue","falseValue","DndProvider","backend","HTML5Backend","burgerConstructorStyle","constructor_container","constructor_element","length","isLocked","idx","button_container","disabled","Main","mainStyles","main","OrderDetails","orderData","orderDetails","orderDetailsStyles","container","order","number","doneGif","success","IngredientDetails","selectedIngredient","ingredientDetailsStyles","width","height","listItem","calories","proteins","fat","carbohydrates","ModalOverlay","handlePopupClose","modalOverlayStyles","overlay","Modal","children","modalRoot","getElementById","useEffect","handleEscapeClose","key","removeEventListener","createPortal","modalStyles","closeButton","Loader","loaderStyles","loader_container","loader","App","isIngredientsPopupOpen","popupState","isOrderDetailsPopupOpen","ingredientsRequest","getIngredients","err","appStyles","app","initialState","ingredientsFailed","orderRequest","orderFailed","rootReducer","combineReducers","action","console","log","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2127e0cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__27L1B\",\"headerContainer\":\"header_headerContainer__26DlA\",\"profile\":\"header_profile__2w4BF\",\"logo\":\"header_logo__3lDef\",\"link\":\"header_link__1PNTA\",\"link_active\":\"header_link_active__28w-7\",\"list\":\"header_list__3_CLy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list_item\":\"ingredient_list_item__27_YN\",\"moving\":\"ingredient_moving__2oYcg\",\"hint_icons\":\"ingredient_hint_icons__Fsy02\",\"left_click_icon\":\"ingredient_left_click_icon__3VCE-\",\"right_click_icon\":\"ingredient_right_click_icon__3gHQs\",\"drag_icon\":\"ingredient_drag_icon__1ZqTJ\",\"image\":\"ingredient_image__33-D4\",\"price_info\":\"ingredient_price_info__oD7HX\",\"text\":\"ingredient_text__2rsG6\"};","import { NavLink, Link } from 'react-router-dom';\r\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport headerStyles from './header.module.css';\r\n\r\nconst Header = () => (\r\n  <header className={`${headerStyles.header} text text_type_main-default pt-4 pb-4`}>\r\n    <div className={headerStyles.headerContainer}>\r\n      <nav>\r\n        <ul className={headerStyles.list}>\r\n          <li>\r\n            <NavLink className={`pt-5 pr-5 pb-5 ${headerStyles.link_active} ${headerStyles.link}`} to=\"/\">\r\n              <BurgerIcon type=\"primary\" />\r\n              <span className={`ml-2`}>Конструктор</span>\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className={`p-5 ${headerStyles.link}`} to=\"/\">\r\n              <ListIcon type=\"secondary\" />\r\n              <span className={`ml-2`}>Лента заказов</span>\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <div className={headerStyles.logo}>\r\n        <Logo />\r\n      </div>\r\n      <Link className={`p-5 ${headerStyles.link} ${headerStyles.profile}`} to=\"/\">\r\n        <ProfileIcon type=\"secondary\" />\r\n        <span className={`ml-2`}>Личный кабинет</span>\r\n      </Link>\r\n    </div>\r\n  </header >\r\n);\r\n\r\nexport default Header;\r\n","/* eslint-disable no-restricted-globals */\r\nexport const getCoords = (elem) => {\r\n  let box = elem.getBoundingClientRect();\r\n\r\n  return {\r\n    top: Math.round(box.top + scrollY),\r\n    left: Math.round(box.left + scrollX)\r\n  };\r\n}","import { BASE_URL } from '../utils/constants'\r\n\r\n//* Класс для взаимодействия с сервером\r\nclass Api {\r\n  constructor(data) {\r\n    this._baseUrl = data;\r\n  }\r\n\r\n  //* Проверка статуса запроса\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        `Что-то пошло не так: Ошибка ${res.status} - ${res.statusText}`\r\n      );\r\n    }\r\n  }\r\n\r\n  //* Запрос данных \r\n  getIngredients() {\r\n    return fetch(`${this._baseUrl}/ingredients`).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  sendIngredients(ingredientsIds) {\r\n    const burgerData = {\r\n      'ingredients': ingredientsIds\r\n    }\r\n\r\n    return fetch(`${this._baseUrl}/orders`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify(burgerData)\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nconst mainApi = new Api(BASE_URL);\r\n\r\nexport default mainApi;","export const BASE_URL = 'https://norma.nomoreparties.space/api'\r\n","import mainApi from \"../../utils/Api\";\r\nimport { v4 as generateUniqueId } from \"uuid\";\r\n\r\nexport const GET_INGREDIENTS = \"GET_INGREDIENTS\";\r\nexport const GET_INGREDIENTS_FAILED = \"GET_INGREDIENTS_FAILED\";\r\nexport const GET_INGREDIENTS_SUCCESS = \"GET_INGREDIENTS_SUCCESS\";\r\n\r\nexport const SELECT_INGREDIENT = \"SELECT_INGREDIENT\";\r\nexport const DELETE_SELECTED_INGREDIENT = \"DELETE_SELECTED_INGREDIENT\";\r\n\r\nexport const ADD_INGREDIENT = \"ADD_INGREDIENT\";\r\nexport const DELETE_INGREDIENT = \"DELETE_INGREDIENT\";\r\nexport const DELETE_ALL_INGREDIENTS = \"DELETE_ALL_INGREDIENTS\";\r\n\r\nexport const SORT_INGREDIENTS = \"SORT_INGREDIENTS\";\r\n\r\nexport function getIngredients() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_INGREDIENTS,\r\n    });\r\n\r\n    mainApi\r\n      .getIngredients()\r\n      .then((ingredientsData) => {\r\n        if (ingredientsData) {\r\n          dispatch({\r\n            type: GET_INGREDIENTS_SUCCESS,\r\n            payload: ingredientsData.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) =>\r\n        dispatch({\r\n          type: GET_INGREDIENTS_FAILED,\r\n        })\r\n      );\r\n  };\r\n}\r\n\r\nexport const selectIngredient = (ingredient) => ({\r\n  type: SELECT_INGREDIENT,\r\n  payload: ingredient,\r\n});\r\n\r\nexport const deleteSelectedIngredient = () => ({\r\n  type: DELETE_SELECTED_INGREDIENT,\r\n});\r\n\r\nexport const addIngredient = (newIngredientsArray) => {\r\n  const modifiedArray = newIngredientsArray.map((ingredientObject) => {\r\n    const ingredientCopy = Object.assign({}, ingredientObject);\r\n    ingredientCopy.uuid = generateUniqueId();\r\n    return ingredientCopy;\r\n  });\r\n\r\n  return { type: ADD_INGREDIENT, payload: modifiedArray };\r\n};\r\n\r\nexport const deleteIngredient = (newIngredientsArray) => ({\r\n  type: DELETE_INGREDIENT,\r\n  payload: newIngredientsArray,\r\n});\r\n\r\nexport const deleteAllIngredients = () => ({ type: DELETE_ALL_INGREDIENTS });\r\n\r\nexport const sortIngredients = (newIngredientsArray) => ({\r\n  type: SORT_INGREDIENTS,\r\n  payload: newIngredientsArray,\r\n});\r\n","export const CHANGE_ORDER_DETAILS_POPUP_STATE = 'CHANGE_ORDER_DETAILS_POPUP_STATE';\r\nexport const CHANGE_INGREDIENTS_POPUP_STATE = 'CHANGE_INGREDIENTS_POPUP_STATE';\r\n\r\nexport const changeOrderDetailsPopupState = (status) => ({ type: CHANGE_ORDER_DETAILS_POPUP_STATE, payload: status })\r\nexport const changeIngredientsPopupState = (status) => ({ type: CHANGE_INGREDIENTS_POPUP_STATE, payload: status })","import ingredientStyles from \"./ingredient.module.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  CurrencyIcon,\r\n  Counter,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport {\r\n  addIngredient,\r\n  selectIngredient,\r\n} from \"../../services/actions/ingredients\";\r\nimport { changeIngredientsPopupState } from \"../../services/actions/popup\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Ingredient = ({ ingredient }) => {\r\n  const { image, price, name, _id } = ingredient;\r\n\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(\r\n    (state) => state.ingredientsData.chosenIngredients\r\n  );\r\n  const initialIngredients = useSelector(\r\n    (state) => state.ingredientsData.ingredients\r\n  );\r\n\r\n  const [{ isDrag }, dragRef] = useDrag({\r\n    type: \"ingredient\",\r\n    item: { _id },\r\n    collect: (monitor) => ({\r\n      isDrag: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  let ingredientCounter = 0;\r\n\r\n  chosenIngredients.forEach(\r\n    (ingredient) =>\r\n      ingredient.name === name &&\r\n      (ingredient.type === \"bun\"\r\n        ? (ingredientCounter += 2)\r\n        : (ingredientCounter += 1))\r\n  );\r\n\r\n  const handleChoseIngredient = (evt) => {\r\n    evt.preventDefault();\r\n    const targetIngredient = initialIngredients.find(\r\n      (ingredient) => ingredient._id === evt.currentTarget.dataset.id\r\n    );\r\n    const selectedBun = chosenIngredients.find(\r\n      (ingredient) => ingredient.type === \"bun\"\r\n    );\r\n    const selectedBunIndex = chosenIngredients.indexOf(selectedBun);\r\n\r\n    if (targetIngredient.type === \"bun\" && selectedBun) {\r\n      const chosenIngredientsClone = chosenIngredients.slice();\r\n      chosenIngredientsClone.splice(selectedBunIndex, 1, targetIngredient);\r\n      dispatch(addIngredient(chosenIngredientsClone));\r\n    } else {\r\n      dispatch(addIngredient([...chosenIngredients, targetIngredient]));\r\n    }\r\n  };\r\n\r\n  const handleIngredientExplore = (evt) => {\r\n    const id = evt.currentTarget.dataset.id;\r\n    const foundIngredient = initialIngredients.find(\r\n      (ingredient) => ingredient._id === id\r\n    );\r\n    dispatch(selectIngredient(foundIngredient));\r\n    dispatch(changeIngredientsPopupState(true));\r\n  };\r\n\r\n  return (\r\n    <li\r\n      data-id={_id}\r\n      onContextMenu={handleChoseIngredient}\r\n      onClick={handleIngredientExplore}\r\n      className={`${ingredientStyles.list_item} ${\r\n        isDrag && ingredientStyles.moving\r\n      }`}\r\n      ref={dragRef}\r\n    >\r\n      <img\r\n        alt={name}\r\n        src={image}\r\n        className={`${ingredientStyles.image} ml-4 mr-4`}\r\n      />\r\n      <div className={`${ingredientStyles.price_info} mt-4 mb-4`}>\r\n        <span className=\"text text_type_digits-default mr-2\">{price}</span>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </div>\r\n      <h3 className={`${ingredientStyles.text} text text_type_main-default`}>\r\n        {name}\r\n      </h3>\r\n      {ingredientCounter > 0 && (\r\n        <Counter count={ingredientCounter} size=\"default\" />\r\n      )}\r\n      <div className={`${ingredientStyles.hint_icons}`}>\r\n        <span className={`${ingredientStyles.left_click_icon}`}></span>\r\n        <span className={`${ingredientStyles.right_click_icon}`}></span>\r\n        <span className={`${ingredientStyles.drag_icon}`}></span>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nIngredient.propTypes = {\r\n  ingredient: PropTypes.shape({\r\n    calories: PropTypes.number.isRequired,\r\n    carbohydrates: PropTypes.number.isRequired,\r\n    fat: PropTypes.number.isRequired,\r\n    image: PropTypes.string.isRequired,\r\n    image_large: PropTypes.string.isRequired,\r\n    image_mobile: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    proteins: PropTypes.number.isRequired,\r\n    type: PropTypes.string.isRequired,\r\n    _id: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n\r\nexport default Ingredient;\r\n","import { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerIngredientsStyle from './burger-ingredients.module.css';\r\nimport { compareCoords } from '../../utils/compare-coords';\r\nimport Ingredient from '../ingredient/ingredient';\r\n\r\nconst BurgerIngredients = () => {\r\n  const initialIngredients = useSelector(state => state.ingredientsData.ingredients)\r\n\r\n  const [current, setCurrent] = useState('bun')\r\n\r\n  const scrollHandler = (evt) => {\r\n    evt.target.addEventListener('scroll', function () {\r\n      setCurrent(compareCoords(burgerIngredientsStyle.main_container))\r\n    });\r\n  }\r\n\r\n  const handleTabClick = (type) => {\r\n    setCurrent(type)\r\n    document.querySelector(`#${type}`).scrollIntoView({ block: \"start\", behavior: \"smooth\" })\r\n  }\r\n\r\n  return (\r\n    <div className={burgerIngredientsStyle.main_container}>\r\n      <h1 className=\"mt-10 mb-5 text text_type_main-large\">Соберите бургер</h1>\r\n      <div style={{ display: 'flex' }}>\r\n        <Tab value=\"bun\" active={current === 'bun'} onClick={handleTabClick}>\r\n          Булки\r\n        </Tab>\r\n        <Tab value=\"sauce\" active={current === 'sauce'} onClick={handleTabClick}>\r\n          Соусы\r\n        </Tab>\r\n        <Tab value=\"main\" active={current === 'main'} onClick={handleTabClick}>\r\n          Начинки\r\n        </Tab>\r\n      </div>\r\n      <div onScroll={scrollHandler} className={`${burgerIngredientsStyle.ingredients_container} mt-10 ingredients-container`}>\r\n        <h2 id=\"bun\" className=\"mb-6 text text_type_main-medium\">\r\n          Булки\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'bun' && <Ingredient key={item._id} ingredient={item} />)}\r\n        </ul>\r\n        <h2 id=\"sauce\" className=\"mb-6 text text_type_main-medium\">\r\n          Соусы\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'sauce' && <Ingredient key={item._id} ingredient={item} />)}\r\n        </ul>\r\n        <h2 id=\"main\" className=\"mb-6 text text_type_main-medium\">\r\n          Начинки\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'main' && <Ingredient key={item._id} ingredient={item} />)}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BurgerIngredients;","import { getCoords } from './get-coords'\r\n\r\nexport const compareCoords = (className) => {\r\n  const bunTitleTopCoords = getCoords(document.querySelector('#bun')).top\r\n  const sauceTitleTopCoords = getCoords(document.querySelector('#sauce')).top\r\n  const mainTitleTopCoords = getCoords(document.querySelector('#main')).top\r\n  const mainContainerTopCoords = getCoords(document.querySelector(`.${className}`)).top\r\n\r\n  const absoluteCoords = [\r\n    {\r\n      title: 'bun',\r\n      value: Math.abs(mainContainerTopCoords - bunTitleTopCoords),\r\n    },\r\n    {\r\n      title: 'sauce',\r\n      value: Math.abs(mainContainerTopCoords - sauceTitleTopCoords),\r\n    },\r\n    {\r\n      title: 'main',\r\n      value: Math.abs(mainContainerTopCoords - mainTitleTopCoords)\r\n    },\r\n  ]\r\n\r\n  const coordsValues = absoluteCoords.map(coord => coord.value)\r\n  const minValue = Math.min(...coordsValues)\r\n  const targetBlockTitle = absoluteCoords.find(coord => coord.value === minValue).title\r\n\r\n  return targetBlockTitle\r\n}","import mainApi from '../../utils/Api';\r\nimport { deleteAllIngredients } from '../actions/ingredients';\r\n\r\nexport const GET_ORDER_DATA = 'GET_ORDER_DATA';\r\nexport const GET_ORDER_DATA_FAILED = 'GET_ORDER_DATA_FAILED';\r\nexport const GET_ORDER_DATA_SUCCESS = 'GET_ORDER_DATA_SUCCESS';\r\nexport const DELETE_ORDER_DATA = 'DELETE_ORDER_DATA';\r\n\r\nexport const setOrderDataLoading = () => ({ type: GET_ORDER_DATA })\r\n\r\nexport const setOrderDataLoadingSuccess = (data) => ({ type: GET_ORDER_DATA_SUCCESS, payload: data })\r\n\r\nexport const setOrderDataLoadingFailed = () => ({ type: GET_ORDER_DATA_FAILED })\r\n\r\nexport const deleteOrderData = () => ({ type: DELETE_ORDER_DATA })\r\n\r\nexport function getOrderData(ingredientsIds) {\r\n  return function (dispatch) {\r\n    dispatch(setOrderDataLoading())\r\n\r\n    mainApi.sendIngredients(ingredientsIds)\r\n      .then(data => {\r\n        if (data) {\r\n          dispatch(setOrderDataLoadingSuccess(data))\r\n        }\r\n      })\r\n      .then(() => {\r\n        dispatch(deleteAllIngredients())\r\n      })\r\n      .catch(() => dispatch(setOrderDataLoadingFailed()))\r\n  }\r\n}","import chosenIngredientStyle from './chosen-ingredient.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { DragIcon, ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { useRef } from 'react';\r\nimport { deleteIngredient } from '../../services/actions/ingredients';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ChosenIngredient = ({ ingredient, id, moveIngredient, index }) => {\r\n  const { name, price, image, } = ingredient;\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n  const ref = useRef(null);\r\n\r\n  const [{ handlerId }, drop] = useDrop({\r\n    accept: 'chosen-ingredient',\r\n    collect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n      };\r\n    },\r\n    drop(item, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n      const clientOffset = monitor.getClientOffset();\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      moveIngredient(dragIndex - 1, hoverIndex - 1);\r\n\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: \"chosen-ingredient\",\r\n    item: () => {\r\n      return { id, index };\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  const opacity = isDragging ? 0 : 1;\r\n\r\n  drag(drop(ref));\r\n\r\n  const handleDeleteIngredient = (item) => () => {\r\n    const selectedIngredientIndex = chosenIngredients.indexOf(item)\r\n    const chosenIngredientsClone = chosenIngredients.slice();\r\n    chosenIngredientsClone.splice(selectedIngredientIndex, 1);\r\n    dispatch(deleteIngredient(chosenIngredientsClone))\r\n  }\r\n\r\n\r\n  return (\r\n    <li ref={ref} style={{ opacity }} data-handler-id={handlerId} className={chosenIngredientStyle.list_item}>\r\n      <DragIcon />\r\n      <ConstructorElement\r\n        text={name}\r\n        price={price}\r\n        thumbnail={image}\r\n        handleClose={handleDeleteIngredient(ingredient)}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nChosenIngredient.propTypes = {\r\n  ingredient: PropTypes.shape({\r\n    calories: PropTypes.number.isRequired,\r\n    carbohydrates: PropTypes.number.isRequired,\r\n    fat: PropTypes.number.isRequired,\r\n    image: PropTypes.string.isRequired,\r\n    image_large: PropTypes.string.isRequired,\r\n    image_mobile: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    proteins: PropTypes.number.isRequired,\r\n    type: PropTypes.string.isRequired,\r\n    _id: PropTypes.string.isRequired,\r\n  }),\r\n  id: PropTypes.string.isRequired,\r\n  moveIngredient: PropTypes.func.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default ChosenIngredient;","import { useMemo, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ConstructorElement, Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerConstructorStyle from './burger-constructor.module.css';\r\nimport { getOrderData } from '../../services/actions/order'\r\nimport { useDrop } from \"react-dnd\";\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport ChosenIngredient from '../chosen-ingredient/chosen-ingredient';\r\nimport update from 'immutability-helper';\r\nimport { sortIngredients } from '../../services/actions/ingredients';\r\nimport { changeOrderDetailsPopupState } from '../../services/actions/popup';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BurgerConstructor = ({ onDropHandler }) => {\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n\r\n  const totalSumm = useMemo(() => chosenIngredients.reduce((acc, cur) => cur.type === 'bun' ? acc + (cur.price * 2) : acc + cur.price, 0), [chosenIngredients])\r\n\r\n  const [{ isHover }, burgerIngredientsContainer] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop(ingredientId) {\r\n      onDropHandler(ingredientId);\r\n    },\r\n    collect: monitor => ({\r\n      isHover: monitor.isOver(),\r\n    })\r\n  });\r\n\r\n  const moveIngredient = useCallback((dragIndex, hoverIndex) => {\r\n    const ingredientWithTypeBan = chosenIngredients.filter(ingredient => ingredient.type === 'bun')\r\n    const ingredientsWithoutBan = chosenIngredients.filter(ingredient => ingredient.type !== 'bun')\r\n    const sortedIngredients = update(ingredientsWithoutBan, {\r\n      $splice: [\r\n        [dragIndex, 1],\r\n        [hoverIndex, 0, ingredientsWithoutBan[dragIndex]],\r\n      ],\r\n    }, [ingredientsWithoutBan])\r\n    const sortedInregientsWithBun = [...ingredientWithTypeBan, ...sortedIngredients]\r\n\r\n    dispatch(sortIngredients([...sortedInregientsWithBun]));\r\n\r\n  }, [chosenIngredients, dispatch]);\r\n\r\n  const borderColor = isHover ? '#5147F8' : 'transparent';\r\n\r\n  const handleOrderButtonClick = () => {\r\n    const ingredientsIds = chosenIngredients.map(ingredient => ingredient._id)\r\n    dispatch(getOrderData(ingredientsIds))\r\n    dispatch(changeOrderDetailsPopupState(true))\r\n  }\r\n\r\n  const bunElementHandler = (chosenIngredients, property, trueValue, falseValue) => chosenIngredients.find(ingredient => ingredient.type === 'bun') ? `${(chosenIngredients.find(ingredient => ingredient.type === 'bun'))[property]} ${trueValue}` : falseValue\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div ref={burgerIngredientsContainer} style={{ borderColor }} className={`${burgerConstructorStyle.constructor_container} mt-25 pt-5 pb-5`}>\r\n        <div className={`${burgerConstructorStyle.constructor_element} pr-5`}>\r\n          {\r\n            chosenIngredients.length > 0 ? <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={bunElementHandler(chosenIngredients, 'name', '(верх)', 'Выберите булку')}\r\n              price={bunElementHandler(chosenIngredients, 'price', '', '0')}\r\n              thumbnail={bunElementHandler(chosenIngredients, 'image', '', '')}\r\n\r\n            /> : <p className=\"text text_type_main-large pt-3\">\r\n              Выберите булку\r\n            </p>\r\n          }\r\n        </div>\r\n        <ul className={`${burgerConstructorStyle.list} pl-4 pr-4`}>\r\n          {chosenIngredients.map((ingredient, idx) =>\r\n            ingredient.type !== 'bun' && <ChosenIngredient key={ingredient.uuid} index={idx} moveIngredient={moveIngredient} ingredient={ingredient} id={`${ingredient._id}${idx}`} />\r\n          )}\r\n        </ul>\r\n        <div className=\"pr-5\">\r\n          {\r\n            chosenIngredients.length > 0 && <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={bunElementHandler(chosenIngredients, 'name', '(низ)', 'Выберите булку')}\r\n              price={bunElementHandler(chosenIngredients, 'price', '', '0')}\r\n              thumbnail={bunElementHandler(chosenIngredients, 'image', '', '')}\r\n            />\r\n          }\r\n        </div>\r\n\r\n        <div className={`${burgerConstructorStyle.button_container} pt-5 pr-5`}>\r\n          <div className='mr-10'>\r\n            <span className=\"text text_type_digits-medium mr-2\">{totalSumm}</span>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n          <Button disabled={chosenIngredients.length > 0 ? false : true} onClick={handleOrderButtonClick} className=\"pt-10\" type=\"primary\" size=\"medium\">\r\n            Оформить заказ\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nBurgerConstructor.propTypes = {\r\n  onDropHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BurgerConstructor;","import { useDispatch, useSelector } from 'react-redux';\r\nimport BurgerIngredients from '../burger-ingredients/burger-ingredients';\r\nimport BurgerConstructor from '../burger-constructor/burger-constructor';\r\nimport mainStyles from './main.module.css';\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { addIngredient } from '../../services/actions/ingredients';\r\n\r\nconst Main = () => {\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n  const initialIngredients = useSelector(state => state.ingredientsData.ingredients);\r\n\r\n  const handleDrop = (ingredientId) => {\r\n    const targetIngredient = initialIngredients.find(ingredient => ingredient._id === ingredientId._id)\r\n    const selectedBun = chosenIngredients.find(ingredient => ingredient.type === 'bun')\r\n    const selectedBunIndex = chosenIngredients.indexOf(selectedBun)\r\n\r\n    if (targetIngredient.type === 'bun' && selectedBun) {\r\n      const chosenIngredientsClone = chosenIngredients.slice();\r\n      chosenIngredientsClone.splice(selectedBunIndex, 1, targetIngredient);\r\n      dispatch(addIngredient(chosenIngredientsClone));\r\n    } else {\r\n      dispatch(addIngredient([...chosenIngredients, targetIngredient]));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className={mainStyles.main}>\r\n      <DndProvider backend={HTML5Backend}>\r\n        <section className={mainStyles.main_container}>\r\n          <BurgerIngredients />\r\n          <BurgerConstructor onDropHandler={handleDrop} />\r\n        </section>\r\n      </DndProvider>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/done.cc5a59a7.gif\";","import { useSelector } from 'react-redux';\r\nimport orderDetailsStyles from './order-details.module.css';\r\nimport doneGif from '../../images/done.gif';\r\n\r\nconst OrderDetails = () => {\r\n  const orderData = useSelector(state => state.orderData.orderDetails);\r\n  return (\r\n    <div className={`${orderDetailsStyles.container}`}>\r\n      <h3 className={`text text_type_digits-large pt-10 ${orderDetailsStyles.title}`}>{orderData.order.number}</h3>\r\n      <p className=\"text text_type_main-medium pt-8 pb-15\">\r\n        идентификатор заказа\r\n      </p>\r\n      <img className=\"pb-15\" src={doneGif} alt=\"чекаут\" />\r\n      <p className={`text text_type_main-default pb-2 ${orderDetailsStyles.text}`}>\r\n        {orderData.success ? `Ваш '${orderData.name}' начали готовить` : 'Ваш заказ в очереди на приготовление'}\r\n      </p>\r\n      {orderData.success && (<p className=\"text text_type_main-default text_color_inactive pb-15\">\r\n        Дождитесь готовности на орбитальной станции\r\n      </p>)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetails;","\r\nimport { useSelector } from 'react-redux';\r\nimport ingredientDetailsStyles from './ingredient-details.module.css';\r\n\r\nconst IngredientDetails = () => {\r\n  const selectedIngredient = useSelector(state => state.ingredientsData.selectedIngredient);\r\n\r\n  return (\r\n    <div className={`${ingredientDetailsStyles.container}`}>\r\n      <img width=\"480\" height=\"240\" alt={selectedIngredient.name} src={selectedIngredient && selectedIngredient.image} />\r\n      <p className=\"text text_type_main-medium pt-4 pb-8\">{selectedIngredient && selectedIngredient.name}</p>\r\n      <ul className={`${ingredientDetailsStyles.list} pt-8`}>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Калории,ккал\r\n          </span>\r\n          {selectedIngredient.calories}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Белки, г\r\n          </span>\r\n          {selectedIngredient.proteins}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Жиры, г\r\n          </span>\r\n          {selectedIngredient.fat}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Углеводы, г\r\n          </span>\r\n          {selectedIngredient.carbohydrates}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IngredientDetails;","import modalOverlayStyles from './modal-overlay.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ModalOverlay = ({ handlePopupClose }) => <div onClick={handlePopupClose} className={modalOverlayStyles.overlay}>\r\n</div>;\r\n\r\nModalOverlay.propTypes = {\r\n  handlePopupClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ModalOverlay","import { useEffect } from 'react';\r\nimport modalStyles from './modal.module.css';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport ModalOverlay from '../modal-overlay/modal-overlay';\r\n\r\nconst Modal = ({ handlePopupClose, children, title = '' }) => {\r\n  const modalRoot = document.getElementById(\"react-modals\");\r\n\r\n  useEffect(() => {\r\n    const handleEscapeClose = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        handlePopupClose()\r\n      };\r\n    };\r\n\r\n    document.addEventListener('keyup', handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener('keyup', handleEscapeClose);\r\n    };\r\n  }, [handlePopupClose])\r\n\r\n\r\n  return createPortal(\r\n    <>\r\n      <div className={`${modalStyles.container} pt-15 pr-10 pl-10 pb-15`}>\r\n        <header className={modalStyles.header}>\r\n          {title && (<h2 className={`${modalStyles.title} text text_type_main-large`}>{title}</h2>)}\r\n          <button onClick={handlePopupClose} className={modalStyles.closeButton}>\r\n            <CloseIcon type=\"primary\" />\r\n          </button>\r\n        </header>\r\n        {children}\r\n      </div>\r\n      <ModalOverlay handlePopupClose={handlePopupClose} />\r\n    </>\r\n    , modalRoot\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  handlePopupClose: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  title: PropTypes.string,\r\n};\r\n\r\nexport default Modal;","import loaderStyles from './loader.module.css';\r\n\r\nconst Loader = () => <div className={loaderStyles.loader_container}>\r\n  <div className={loaderStyles.loader}></div>\r\n</div>\r\n\r\nexport default Loader;","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport appStyles from './app.module.css';\r\n\r\nimport Header from '../header/header';\r\nimport Main from '../main/main';\r\nimport OrderDetails from '../order-details/order-details';\r\nimport IngredientDetails from '../ingredient-details/ingredient-details';\r\nimport Modal from '../modal/modal';\r\nimport Loader from '../loader/loader';\r\nimport { getIngredients } from '../../services/actions/ingredients';\r\nimport { changeOrderDetailsPopupState, changeIngredientsPopupState } from '../../services/actions/popup';\r\nimport { deleteSelectedIngredient } from '../../services/actions/ingredients';\r\nimport { deleteOrderData } from '../../services/actions/order';\r\n\r\nconst App = () => {\r\n  const orderData = useSelector(state => state.orderData.orderDetails);\r\n  const isIngredientsPopupOpen = useSelector(state => state.popupState.isIngredientsPopupOpen);\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n  const ingredientsRequest = useSelector(state => state.ingredientsData.ingredientsRequest);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getIngredients());\r\n  }, [dispatch])\r\n\r\n  const handlePopupClose = () => {\r\n    isOrderDetailsPopupOpen ? dispatch(changeOrderDetailsPopupState(false)) : dispatch(changeIngredientsPopupState(false));\r\n    isOrderDetailsPopupOpen ? dispatch(deleteOrderData()) : dispatch(deleteSelectedIngredient())\r\n  }\r\n\r\n  return (\r\n    <div className={`${appStyles.app} pb-10`}>\r\n      {\r\n        ingredientsRequest ? (<Loader />) :\r\n          <>\r\n            <Header />\r\n            <Main />\r\n            {\r\n              isOrderDetailsPopupOpen && (\r\n                <Modal handlePopupClose={handlePopupClose}>\r\n                  {orderData ? <OrderDetails /> : <Loader />}\r\n                </Modal>\r\n              )\r\n            }\r\n            {\r\n              isIngredientsPopupOpen && (\r\n                <Modal handlePopupClose={handlePopupClose} title='Детали ингредиентов'>\r\n                  <IngredientDetails />\r\n                </Modal>\r\n              )\r\n            }\r\n          </>\r\n      }\r\n    </div >\r\n\r\n  );\r\n};\r\n\r\nexport default App;","import {\r\n  GET_INGREDIENTS,\r\n  GET_INGREDIENTS_FAILED,\r\n  GET_INGREDIENTS_SUCCESS,\r\n  SELECT_INGREDIENT,\r\n  ADD_INGREDIENT,\r\n  DELETE_INGREDIENT,\r\n  DELETE_SELECTED_INGREDIENT,\r\n  SORT_INGREDIENTS,\r\n  DELETE_ALL_INGREDIENTS\r\n} from '../actions/ingredients';\r\n\r\n\r\nconst initialState = {\r\n  ingredients: [],\r\n  selectedIngredient: null,\r\n  chosenIngredients: [],\r\n  ingredientsRequest: false,\r\n  ingredientsFailed: false,\r\n};\r\n\r\nexport const ingredientsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case DELETE_ALL_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        chosenIngredients: [],\r\n      };\r\n    }\r\n    case SORT_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        chosenIngredients: action.payload\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_FAILED: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: true,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredients: action.payload,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: true,\r\n        ingredientsFailed: false,\r\n      };\r\n    }\r\n    case SELECT_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        selectedIngredient: action.payload\r\n      };\r\n    }\r\n    case DELETE_SELECTED_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        selectedIngredient: null\r\n      };\r\n    }\r\n    case ADD_INGREDIENT: {\r\n      console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        chosenIngredients: action.payload\r\n      };\r\n    }\r\n    case DELETE_INGREDIENT: {\r\n      return { ...state, chosenIngredients: action.payload };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import {\r\n  GET_ORDER_DATA,\r\n  GET_ORDER_DATA_FAILED,\r\n  GET_ORDER_DATA_SUCCESS,\r\n  DELETE_ORDER_DATA\r\n} from '../actions/order';\r\n\r\nconst initialState = {\r\n  orderDetails: null,\r\n  orderRequest: false,\r\n  orderFailed: false,\r\n};\r\n\r\nexport const orderReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case GET_ORDER_DATA: {\r\n      return {\r\n        ...state,\r\n        orderRequest: true,\r\n        orderFailed: false,\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_FAILED: {\r\n      return {\r\n        ...state,\r\n        orderRequest: false,\r\n        orderFailed: true,\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        orderRequest: false,\r\n        orderDetails: action.payload,\r\n      };\r\n    }\r\n    case DELETE_ORDER_DATA: {\r\n      return {\r\n        ...state,\r\n        orderDetails: null,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import {\r\n  CHANGE_ORDER_DETAILS_POPUP_STATE,\r\n  CHANGE_INGREDIENTS_POPUP_STATE\r\n} from '../actions/popup';\r\n\r\nconst initialState = {\r\n  isOrderDetailsPopupOpen: false,\r\n  isIngredientsPopupOpen: false,\r\n};\r\n\r\nexport const popupReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case CHANGE_ORDER_DETAILS_POPUP_STATE: {\r\n      return {\r\n        ...state,\r\n        isOrderDetailsPopupOpen: action.payload,\r\n      };\r\n    }\r\n    case CHANGE_INGREDIENTS_POPUP_STATE: {\r\n      return {\r\n        ...state,\r\n        isIngredientsPopupOpen: action.payload\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { ingredientsReducer } from './ingredients';\r\nimport { orderReducer } from './order';\r\nimport { popupReducer } from './popup';\r\n\r\nexport const rootReducer = combineReducers({\r\n  ingredientsData: ingredientsReducer,\r\n  orderData: orderReducer,\r\n  popupState: popupReducer,\r\n});","import { rootReducer } from './reducers/index';\r\nimport thunk from 'redux-thunk';\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nexport const store = createStore(rootReducer, enhancer);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app.jsx';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './services/store';\r\n\r\nReactDOM.render((\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>\r\n), document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_container\":\"burger-ingredients_main_container__3Baoy\",\"list\":\"burger-ingredients_list__3uRcv\",\"ingredients_container\":\"burger-ingredients_ingredients_container__2-v-q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient-details_container__3phN_\",\"list\":\"ingredient-details_list__3M1Hh\",\"listItem\":\"ingredient-details_listItem__10Akm\",\"title\":\"ingredient-details_title__XLESx\",\"header\":\"ingredient-details_header__3Axc5\",\"closeButton\":\"ingredient-details_closeButton__1bqpc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"burger-constructor_list__1O9lC\",\"constructor_container\":\"burger-constructor_constructor_container__3uA-3\",\"button_container\":\"burger-constructor_button_container__p1UW7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"modal_container__6OgBd\",\"title\":\"modal_title__6pRUP\",\"header\":\"modal_header__2o5Lw\",\"closeButton\":\"modal_closeButton__isCPO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"order-details_title__1Kar7\",\"text\":\"order-details_text__2iKwJ\",\"container\":\"order-details_container__j7JKe\",\"header\":\"order-details_header__24snd\",\"closeButton\":\"order-details_closeButton__SyKKN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__BffvW\",\"main_container\":\"main_main_container__1zuyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_container\":\"loader_loader_container__3YF2k\",\"loader\":\"loader_loader__2CMi6\",\"rotate\":\"loader_rotate__24DC1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__3noti\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list_item\":\"chosen-ingredient_list_item__3RzN9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__1md7D\"};"],"sourceRoot":""}