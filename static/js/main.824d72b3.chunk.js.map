{"version":3,"sources":["components/burger-ingredients/burger-ingredients.module.css","components/app-header/app-header.module.css","components/app-header/app-header.jsx","utils/getCoords.js","components/burger-ingredients/burger-ingredients.jsx","utils/compareCoords.js","utils/Api.js","utils/constants.js","services/actions/order.js","components/burger-constructor/burger-constructor.jsx","components/main/main.jsx","images/done.gif","components/order-details/order-details.jsx","components/ingredient-details/ingredient-details.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/loader/loader.jsx","services/actions/ingredients.js","components/app/app.jsx","services/reducers/ingredients.js","services/reducers/order.js","services/actions/popup.js","services/reducers/popup.js","services/reducers/index.js","index.js","components/ingredient-details/ingredient-details.module.css","components/burger-constructor/burger-constructor.module.css","components/modal/modal.module.css","components/order-details/order-details.module.css","components/main/main.module.css","components/app/app.module.css","components/modal-overlay/modal-overlay.module.css","components/loader/loader.module.css"],"names":["module","exports","AppHeader","className","headerStyles","header","headerContainer","list","link_active","link","to","type","logo","profile","getCoords","elem","box","getBoundingClientRect","top","Math","round","scrollY","left","scrollX","BurgerIngredients","dispatch","useDispatch","initialIngredients","useSelector","state","ingredientsData","ingredients","chosenIngredients","useState","current","setCurrent","isIngredientDragging","setIngredientDrag","cursorPosition","setCursorPosition","ingredientPosition","setIngredientPosition","ingredientRef","useRef","useEffect","style","transform","x","y","handleMouseDown","e","clientX","currentTarget","clientY","handleMouseMove","stopPropagation","preventDefault","handleMouseUp","handleTabClick","document","querySelector","scrollIntoView","block","behavior","handleIngredientExplore","evt","id","dataset","foundIngredient","find","ingredient","_id","payload","handleChoseIngredient","targetIngredient","selectedBun","selectedBunIndex","indexOf","chosenIngredientsClone","slice","splice","itemTemplate","image","price","name","ingredientCounter","forEach","ref","onMouseMove","onMouseDown","onMouseUp","onClick","onContextMenu","burgerIngredientsStyle","list_item","alt","src","price_info","text","count","size","main_container","display","value","active","onScroll","target","addEventListener","bunTitleTopCoords","sauceTitleTopCoords","mainTitleTopCoords","mainContainerTopCoords","absoluteCoords","title","abs","coordsValues","map","coord","minValue","min","compareCoords","ingredients_container","item","mainApi","data","this","_baseUrl","res","ok","json","Promise","reject","status","statusText","fetch","then","_requestResult","ingredientsIds","burgerData","method","headers","body","JSON","stringify","GET_ORDER_DATA","GET_ORDER_DATA_FAILED","GET_ORDER_DATA_SUCCESS","DELETE_ORDER_DATA","BurgerConstructor","totalSumm","useMemo","reduce","acc","cur","bunElementHandler","property","trueValue","falseValue","burgerConstructorStyle","constructor_container","constructor_element","length","isLocked","thumbnail","idx","handleClose","selectedIngredientIndex","button_container","disabled","sendIngredients","catch","err","getOrderData","Main","mainStyles","main","OrderDetails","orderData","orderDetails","orderDetailsStyles","container","order","number","doneGif","success","IngredientDetails","selectedIngredient","ingredientDetailsStyles","width","height","listItem","calories","proteins","fat","carbohydrates","ModalOverlay","isOrderDetailsPopupOpen","popupState","modalOverlayStyles","overlay","Modal","children","modalRoot","getElementById","handleEscapeClose","key","removeEventListener","createPortal","modalStyles","closeButton","Loader","loaderStyles","loader","GET_INGREDIENTS","GET_INGREDIENTS_FAILED","GET_INGREDIENTS_SUCCESS","SELECT_INGREDIENT","DELETE_SELECTED_INGREDIENT","ADD_INGREDIENT","DELETE_INGREDIENT","App","isIngredientsPopupOpen","ingredientsRequest","getIngredients","appStyles","app","initialState","ingredientsFailed","orderRequest","orderFailed","CHANGE_ORDER_DETAILS_POPUP_STATE","CHANGE_INGREDIENTS_POPUP_STATE","rootReducer","combineReducers","action","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.824d72b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_container\":\"burger-ingredients_main_container__1ypSr\",\"list\":\"burger-ingredients_list__28pax\",\"ingredients_container\":\"burger-ingredients_ingredients_container__V2yiM\",\"image\":\"burger-ingredients_image__1Vkgr\",\"list_item\":\"burger-ingredients_list_item__1YsBs\",\"price_info\":\"burger-ingredients_price_info__3qybk\",\"text\":\"burger-ingredients_text__25ymS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__2Najp\",\"headerContainer\":\"app-header_headerContainer__sH8CK\",\"profile\":\"app-header_profile__46wYZ\",\"logo\":\"app-header_logo__2b8ll\",\"link\":\"app-header_link__1v2QL\",\"link_active\":\"app-header_link_active__m5wx3\",\"list\":\"app-header_list__NmE0n\"};","import { NavLink, Link } from 'react-router-dom';\r\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport headerStyles from './app-header.module.css';\r\n\r\nfunction AppHeader() {\r\n  return (\r\n    <header className={`${headerStyles.header} text text_type_main-default pt-4 pb-4`}>\r\n      <div className={headerStyles.headerContainer}>\r\n      <nav>\r\n        <ul className={headerStyles.list}>\r\n          <li>\r\n            <NavLink className={`pt-5 pr-5 pb-5 ${headerStyles.link_active} ${headerStyles.link}`} to=\"/\">\r\n              <BurgerIcon type=\"primary\" />\r\n              <span className={`ml-2`}>Конструктор</span>\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className={`p-5 ${headerStyles.link}`} to=\"/\">\r\n              <ListIcon type=\"secondary\" />\r\n              <span className={`ml-2`}>Лента заказов</span>\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <div className={headerStyles.logo}>\r\n        <Logo />\r\n      </div>\r\n      <Link className={`p-5 ${headerStyles.link} ${headerStyles.profile}`} to=\"/\">\r\n        <ProfileIcon type=\"secondary\" />\r\n        <span className={`ml-2`}>Личный кабинет</span>\r\n      </Link>\r\n      </div>\r\n    </header >\r\n  );\r\n}\r\n\r\nexport default AppHeader;\r\n","/* eslint-disable no-restricted-globals */\r\nexport const getCoords = (elem) => {\r\n  let box = elem.getBoundingClientRect();\r\n\r\n  return {\r\n    top: Math.round(box.top + scrollY),\r\n    left: Math.round(box.left + scrollX)\r\n  };\r\n}","import { useState, useRef, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Tab, CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerIngredientsStyle from './burger-ingredients.module.css';\r\nimport { compareCoords } from '../../utils/compareCoords';\r\n\r\nexport default function BurgerIngredients() {\r\n  const dispatch = useDispatch();\r\n  const initialIngredients = useSelector(state => state.ingredientsData.ingredients)\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n\r\n  const [current, setCurrent] = useState('bun')\r\n  const [isIngredientDragging, setIngredientDrag] = useState(false);\r\n  const [cursorPosition, setCursorPosition] = useState({});\r\n  const [ingredientPosition, setIngredientPosition] = useState({});\r\n  const ingredientRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (ingredientRef.current) {\r\n      ingredientRef.current.style.transform = `translate(${ingredientPosition.x}px, ${ingredientPosition.y}px)`\r\n    }\r\n  }, [ingredientPosition]);\r\n\r\n  const scrollHandler = (evt) => {\r\n    evt.target.addEventListener('scroll', function () {\r\n      setCurrent(compareCoords(burgerIngredientsStyle.main_container))\r\n    });\r\n  }\r\n\r\n  const handleMouseDown = (e) => {\r\n    setIngredientDrag(true);\r\n\r\n    setCursorPosition({\r\n      ...cursorPosition,\r\n      x: e.clientX - e.currentTarget.getBoundingClientRect().left,\r\n      y: e.clientY - e.currentTarget.getBoundingClientRect().top\r\n    });\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isIngredientDragging) return;\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    setIngredientPosition({\r\n      ...ingredientPosition,\r\n      x: e.clientX - cursorPosition.x,\r\n      y: e.clientY - cursorPosition.y\r\n    });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIngredientDrag(false);\r\n  };\r\n\r\n  const handleTabClick = (type) => {\r\n    setCurrent(type)\r\n    document.querySelector(`#${type}`).scrollIntoView({ block: \"start\", behavior: \"smooth\" })\r\n  }\r\n\r\n  const handleIngredientExplore = (evt) => {\r\n    evt.preventDefault()\r\n    const id = evt.currentTarget.dataset.id\r\n    const foundIngredient = initialIngredients.find(ingredient => ingredient._id === id)\r\n    dispatch({ type: 'SELECT_INGREDIENT', payload: foundIngredient });\r\n    dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: true });\r\n  }\r\n\r\n  const handleChoseIngredient = (evt) => {\r\n    const targetIngredient = initialIngredients.find(ingredient => ingredient._id === evt.currentTarget.dataset.id)\r\n    const selectedBun = chosenIngredients.find(ingredient => ingredient.type === 'bun')\r\n    const selectedBunIndex = chosenIngredients.indexOf(selectedBun)\r\n\r\n    if (targetIngredient.type === 'bun' && selectedBun) {\r\n      const chosenIngredientsClone = chosenIngredients.slice();\r\n      chosenIngredientsClone.splice(selectedBunIndex, 1, targetIngredient);\r\n      dispatch({ type: 'ADD_INGREDIENT', payload: [...chosenIngredientsClone] });\r\n    } else {\r\n      dispatch({ type: 'ADD_INGREDIENT', payload: [...chosenIngredients, targetIngredient] });\r\n    }\r\n  }\r\n\r\n  const itemTemplate = ({ image, price, name, _id }) => {\r\n    let ingredientCounter = 0;\r\n    chosenIngredients.forEach(ingredient => ingredient.name === name && (ingredient.type === 'bun' ? ingredientCounter += 2 : ingredientCounter += 1))\r\n\r\n    return (<li data-id={_id} key={_id} ref={ingredientRef} onMouseMove={handleMouseMove} onMouseDown={handleMouseDown} onMouseUp={handleMouseUp} onClick={handleChoseIngredient} onContextMenu={handleIngredientExplore} className={burgerIngredientsStyle.list_item}>\r\n      <img alt={name} src={image} className={`${burgerIngredientsStyle.image} ml-4 mr-4`} />\r\n      <div className={`${burgerIngredientsStyle.price_info} mt-4 mb-4`}>\r\n        <span className=\"text text_type_digits-default mr-2\">{price}</span>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </div>\r\n      <h3 className={`${burgerIngredientsStyle.text} text text_type_main-default`}>{name}</h3>\r\n      <Counter count={ingredientCounter} size=\"default\" />\r\n    </li>)\r\n  }\r\n\r\n  return (\r\n    <div className={burgerIngredientsStyle.main_container}>\r\n      <h1 className=\"mt-10 mb-5 text text_type_main-large\">Соберите бургер</h1>\r\n      <div style={{ display: 'flex' }}>\r\n        <Tab value=\"bun\" active={current === 'bun'} onClick={handleTabClick}>\r\n          Булки\r\n        </Tab>\r\n        <Tab value=\"sauce\" active={current === 'sauce'} onClick={handleTabClick}>\r\n          Соусы\r\n        </Tab>\r\n        <Tab value=\"main\" active={current === 'main'} onClick={handleTabClick}>\r\n          Начинки\r\n        </Tab>\r\n      </div>\r\n      <div onScroll={scrollHandler} className={`${burgerIngredientsStyle.ingredients_container} mt-10 ingredients-container`}>\r\n        <h2 id=\"bun\" className=\"mb-6 text text_type_main-medium\">\r\n          Булки\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'bun' && itemTemplate(item))}\r\n        </ul>\r\n        <h2 id=\"sauce\" className=\"mb-6 text text_type_main-medium\">\r\n          Соусы\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'sauce' && itemTemplate(item))}\r\n        </ul>\r\n        <h2 id=\"main\" className=\"mb-6 text text_type_main-medium\">\r\n          Начинки\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'main' && itemTemplate(item))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import { getCoords } from './getCoords'\r\n\r\nexport const compareCoords = (className) => {\r\n  const bunTitleTopCoords = getCoords(document.querySelector('#bun')).top\r\n  const sauceTitleTopCoords = getCoords(document.querySelector('#sauce')).top\r\n  const mainTitleTopCoords = getCoords(document.querySelector('#main')).top\r\n  const mainContainerTopCoords = getCoords(document.querySelector(`.${className}`)).top\r\n\r\n  const absoluteCoords = [\r\n    {\r\n      title: 'bun',\r\n      value: Math.abs(mainContainerTopCoords - bunTitleTopCoords),\r\n    },\r\n    {\r\n      title: 'sauce',\r\n      value: Math.abs(mainContainerTopCoords - sauceTitleTopCoords),\r\n    },\r\n    {\r\n      title: 'main',\r\n      value: Math.abs(mainContainerTopCoords - mainTitleTopCoords)\r\n    },\r\n  ]\r\n\r\n  const coordsValues = absoluteCoords.map(coord => coord.value)\r\n  const minValue = Math.min(...coordsValues)\r\n  const targetBlockTitle = absoluteCoords.find(coord => coord.value === minValue).title\r\n\r\n  return targetBlockTitle\r\n}","import { BASE_URL } from '../utils/constants'\r\n\r\n//* Класс для взаимодействия с сервером\r\nclass Api {\r\n  constructor(data) {\r\n    this._baseUrl = data;\r\n  }\r\n\r\n  //* Проверка статуса запроса\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        `Что-то пошло не так: Ошибка ${res.status} - ${res.statusText}`\r\n      );\r\n    }\r\n  }\r\n\r\n  //* Запрос данных \r\n  getIngredients() {\r\n    return fetch(`${this._baseUrl}/ingredients`).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  sendIngredients(ingredientsIds) {\r\n    const burgerData = {\r\n      'ingredients': ingredientsIds\r\n    }\r\n\r\n    return fetch(`${this._baseUrl}/orders`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify(burgerData)\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nconst mainApi = new Api(BASE_URL);\r\n\r\nexport default mainApi;","export const BASE_URL = 'https://norma.nomoreparties.space/api'\r\n","import mainApi from '../../utils/Api';\r\n\r\nexport const GET_ORDER_DATA = 'GET_ORDER_DATA';\r\nexport const GET_ORDER_DATA_FAILED = 'GET_ORDER_DATA_FAILED';\r\nexport const GET_ORDER_DATA_SUCCESS = 'GET_ORDER_DATA_SUCCESS';\r\nexport const DELETE_ORDER_DATA = 'DELETE_ORDER_DATA'\r\n\r\nexport function getOrderData(ingredientsIds) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_ORDER_DATA,\r\n    })\r\n\r\n    mainApi.sendIngredients(ingredientsIds)\r\n      .then(data => {\r\n        if (data) {\r\n          dispatch({\r\n            type: GET_ORDER_DATA_SUCCESS,\r\n            payload: data\r\n          })\r\n          // dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: true })\r\n        }\r\n      })\r\n      .catch(err => dispatch({\r\n        type: GET_ORDER_DATA_FAILED\r\n      }))\r\n  }\r\n}","import { useMemo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { DragIcon, ConstructorElement, Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerConstructorStyle from './burger-constructor.module.css';\r\nimport { getOrderData } from '../../services/actions/order'\r\n\r\nexport default function BurgerConstructor() {\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n\r\n  const totalSumm = useMemo(() => chosenIngredients.reduce((acc, cur) => cur.type === 'bun' ? acc + (cur.price * 2) : acc + cur.price, 0), [chosenIngredients])\r\n\r\n  const handleOrderButtonClick = () => {\r\n    const ingredientsIds = chosenIngredients.map(ingredient => ingredient._id)\r\n    dispatch(getOrderData(ingredientsIds))\r\n    dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: true })\r\n  }\r\n\r\n  const handleDeleteIngredient = (item) => (e) => {\r\n    const selectedIngredientIndex = chosenIngredients.indexOf(item)\r\n    const chosenIngredientsClone = chosenIngredients.slice();\r\n    chosenIngredientsClone.splice(selectedIngredientIndex, 1);\r\n    dispatch({ type: 'DELETE_INGREDIENT', payload: chosenIngredientsClone });\r\n  }\r\n\r\n  const bunElementHandler = (chosenIngredients, property, trueValue, falseValue) => chosenIngredients.find(ingredient => ingredient.type === 'bun') ? `${(chosenIngredients.find(ingredient => ingredient.type === 'bun'))[property]} ${trueValue}` : falseValue\r\n\r\n  return (\r\n    <div className={`${burgerConstructorStyle.constructor_container} pt-25`}>\r\n      <div className={`${burgerConstructorStyle.constructor_element} pr-6`}>\r\n        {\r\n          chosenIngredients.length > 0 ? <ConstructorElement\r\n            type=\"top\"\r\n            isLocked={true}\r\n            text={bunElementHandler(chosenIngredients, 'name', '(верх)', 'Выберите булку')}\r\n            price={bunElementHandler(chosenIngredients, 'price', '', '0')}\r\n            thumbnail={bunElementHandler(chosenIngredients, 'image', '', '')}\r\n\r\n          /> : <p className=\"text text_type_main-medium pt-8 pb-15\">\r\n            Выберите булку\r\n          </p>\r\n        }\r\n      </div>\r\n      <ul className={`${burgerConstructorStyle.list} pl-4 pr-4`}>\r\n        {chosenIngredients.map((ingredient, idx) =>\r\n          ingredient.type !== 'bun' && <li key={`${ingredient._id}${idx}`} className={burgerConstructorStyle.list_item}>\r\n            <DragIcon />\r\n            <ConstructorElement\r\n              text={ingredient.name}\r\n              price={ingredient.price}\r\n              thumbnail={ingredient.image}\r\n              handleClose={handleDeleteIngredient(ingredient)}\r\n            />\r\n          </li>\r\n        )}\r\n      </ul>\r\n      <div className=\"pr-6\">\r\n        {\r\n          chosenIngredients.length > 0 && <ConstructorElement\r\n            type=\"bottom\"\r\n            isLocked={true}\r\n            text={bunElementHandler(chosenIngredients, 'name', '(низ)', 'Выберите булку')}\r\n            price={bunElementHandler(chosenIngredients, 'price', '', '0')}\r\n            thumbnail={bunElementHandler(chosenIngredients, 'image', '', '')}\r\n          />\r\n        }\r\n      </div>\r\n\r\n      <div className={`${burgerConstructorStyle.button_container} pt-6 pr-6`}>\r\n        <div className='mr-10'>\r\n          <span className=\"text text_type_digits-medium mr-2\">{totalSumm}</span>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n        <Button disabled={chosenIngredients.length > 0 ? false : true} onClick={handleOrderButtonClick} className=\"pt-10\" type=\"primary\" size=\"medium\">\r\n          Оформить заказ\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import BurgerIngredients from '../burger-ingredients/burger-ingredients';\r\nimport BurgerConstructor from '../burger-constructor/burger-constructor';\r\nimport mainStyles from './main.module.css';\r\n\r\nexport default function Main() {\r\n\r\n  return (\r\n    <main className={mainStyles.main}>\r\n      <section className={mainStyles.main_container}>\r\n        <BurgerIngredients />\r\n        <BurgerConstructor />\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/done.cc5a59a7.gif\";","import { useSelector } from 'react-redux';\r\nimport orderDetailsStyles from './order-details.module.css';\r\nimport doneGif from '../../images/done.gif';\r\n\r\nexport default function OrderDetails() {\r\n  const orderData = useSelector(state => state.orderData.orderDetails);\r\n  return (\r\n    <div className={`${orderDetailsStyles.container}`}>\r\n      <h3 className={`text text_type_digits-large pt-10 ${orderDetailsStyles.title}`}>{orderData.order.number}</h3>\r\n      <p className=\"text text_type_main-medium pt-8 pb-15\">\r\n        идентификатор заказа\r\n      </p>\r\n      <img className=\"pb-15\" src={doneGif} alt=\"чекаут\" />\r\n      <p className={`text text_type_main-default pb-2 ${orderDetailsStyles.text}`}>\r\n        {orderData.success ? `Ваш '${orderData.name}' начали готовить` : 'Ваш заказ в очереди на приготовление'}\r\n      </p>\r\n      {orderData.success && (<p className=\"text text_type_main-default text_color_inactive pb-15\">\r\n        Дождитесь готовности на орбитальной станции\r\n      </p>)}\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport { useSelector } from 'react-redux';\r\nimport ingredientDetailsStyles from './ingredient-details.module.css';\r\n\r\nexport default function IngredientDetails() {\r\n  const selectedIngredient = useSelector(state => state.ingredientsData.selectedIngredient);\r\n\r\n  return (\r\n    <div className={`${ingredientDetailsStyles.container}`}>\r\n      <img width=\"480\" height=\"240\" alt={selectedIngredient.name} src={selectedIngredient && selectedIngredient.image} />\r\n      <p className=\"text text_type_main-medium pt-4 pb-8\">{selectedIngredient && selectedIngredient.name}</p>\r\n      <ul className={`${ingredientDetailsStyles.list} pt-8`}>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Калории,ккал\r\n          </span>\r\n          {selectedIngredient.calories}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Белки, г\r\n          </span>\r\n          {selectedIngredient.proteins}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Жиры, г\r\n          </span>\r\n          {selectedIngredient.fat}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Углеводы, г\r\n          </span>\r\n          {selectedIngredient.carbohydrates}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport modalOverlayStyles from './modal-overlay.module.css';\r\n\r\nexport default function ModalOverlay() {\r\n  const dispatch = useDispatch();\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n\r\n  const overlayClickHandler = () => {\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: false }) : dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: false });\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'DELETE_ORDER_DATA' }) : dispatch({ type: 'DELETE_SELECTED_INGREDIENT' })\r\n  }\r\n\r\n  return (\r\n    <div onClick={overlayClickHandler} className={modalOverlayStyles.overlay}>\r\n    </div>\r\n  );\r\n};","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport modalStyles from './modal.module.css';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport ModalOverlay from '../modal-overlay/modal-overlay';\r\n\r\nexport default function Modal({ children, title = '' }) {\r\n  const dispatch = useDispatch();\r\n  const modalRoot = document.getElementById(\"react-modals\");\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n\r\n  useEffect(() => {\r\n    const handleEscapeClose = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        isOrderDetailsPopupOpen ? dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: false }) : dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: false });\r\n        isOrderDetailsPopupOpen ? dispatch({ type: 'DELETE_ORDER_DATA' }) : dispatch({ type: 'DELETE_SELECTED_INGREDIENT' })\r\n      };\r\n    };\r\n\r\n    document.addEventListener('keyup', handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener('keyup', handleEscapeClose);\r\n    };\r\n  }, [dispatch, isOrderDetailsPopupOpen])\r\n\r\n  const closeButtonClickHandler = () => {\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: false }) : dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: false });\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'DELETE_ORDER_DATA' }) : dispatch({ type: 'DELETE_SELECTED_INGREDIENT' })\r\n  }\r\n\r\n  return createPortal(\r\n    <>\r\n      <div className={`${modalStyles.container} pt-15 pr-10 pl-10 pb-15`}>\r\n        <header className={modalStyles.header}>\r\n          {title && (<h2 className={`${modalStyles.title} text text_type_main-large`}>{title}</h2>)}\r\n          <button onClick={closeButtonClickHandler} className={modalStyles.closeButton}>\r\n            <CloseIcon type=\"primary\" />\r\n          </button>\r\n        </header>\r\n        {children}\r\n      </div>\r\n      <ModalOverlay />\r\n    </>\r\n    , modalRoot\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  title: PropTypes.string,\r\n};","import loaderStyles from './loader.module.css';\r\n\r\nexport default function Loader() {\r\n\r\n  return (\r\n    <div className={loaderStyles.loader}>\r\n    </div>\r\n  );\r\n};\r\n","import mainApi from '../../utils/Api';\r\n\r\nexport const GET_INGREDIENTS = 'GET_INGREDIENTS';\r\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\r\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\r\n\r\nexport const SELECT_INGREDIENT = 'SELECT_INGREDIENT';\r\nexport const DELETE_SELECTED_INGREDIENT = 'DELETE_SELECTED_INGREDIENT';\r\n\r\nexport const ADD_INGREDIENT = 'ADD_INGREDIENT';\r\nexport const DELETE_INGREDIENT = 'DELETE_INGREDIENT';\r\n\r\nexport function getIngredients() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_INGREDIENTS,\r\n    })\r\n\r\n    mainApi.getIngredients()\r\n      .then(ingredientsData => {\r\n        if (ingredientsData) {\r\n          dispatch({\r\n            type: GET_INGREDIENTS_SUCCESS,\r\n            payload: ingredientsData.data\r\n          })\r\n        }\r\n      })\r\n      .catch(err => dispatch({\r\n        type: GET_INGREDIENTS_FAILED\r\n      }))\r\n  }\r\n}","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport appStyles from './app.module.css';\r\n\r\nimport AppHeader from '../app-header/app-header';\r\nimport Main from '../main/main';\r\nimport OrderDetails from '../order-details/order-details';\r\nimport IngredientDetails from '../ingredient-details/ingredient-details';\r\nimport Modal from '../modal/modal';\r\nimport Loader from '../loader/loader';\r\nimport { getIngredients } from '../../services/actions/ingredients';\r\n\r\nexport default function App() {\r\n  const orderData = useSelector(state => state.orderData.orderDetails);\r\n  const isIngredientsPopupOpen = useSelector(state => state.popupState.isIngredientsPopupOpen);\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n  const ingredientsRequest = useSelector(state => state.ingredientsData.ingredientsRequest);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getIngredients());\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className={`${appStyles.app} pb-10`}>\r\n      {\r\n        ingredientsRequest ? (<Loader />) :\r\n          <>\r\n            <AppHeader />\r\n            <Main />\r\n            {\r\n              isOrderDetailsPopupOpen && (\r\n                <Modal>\r\n                  {orderData ? <OrderDetails /> : <Loader />}\r\n                </Modal>\r\n              )\r\n            }\r\n            {\r\n              isIngredientsPopupOpen && (\r\n                <Modal title='Детали ингредиентов'>\r\n                  <IngredientDetails />\r\n                </Modal>\r\n              )\r\n            }\r\n          </>\r\n      }\r\n    </div >\r\n\r\n  );\r\n};","import {\r\n  GET_INGREDIENTS,\r\n  GET_INGREDIENTS_FAILED,\r\n  GET_INGREDIENTS_SUCCESS,\r\n  SELECT_INGREDIENT,\r\n  ADD_INGREDIENT,\r\n  DELETE_INGREDIENT,\r\n  DELETE_SELECTED_INGREDIENT\r\n} from '../actions/ingredients';\r\n\r\nconst initialState = {\r\n  ingredients: [],\r\n  selectedIngredient: null,\r\n  chosenIngredients: [],\r\n  ingredientsRequest: false,\r\n  ingredientsFailed: false,\r\n};\r\n\r\nexport const ingredientsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case GET_INGREDIENTS_FAILED: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: true,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredients: action.payload,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: true,\r\n        ingredientsFailed: false,\r\n      };\r\n    }\r\n    case SELECT_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        selectedIngredient: action.payload\r\n      };\r\n    }\r\n    case DELETE_SELECTED_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        selectedIngredient: null\r\n      };\r\n    }\r\n    case ADD_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        chosenIngredients: action.payload\r\n      };\r\n    }\r\n    case DELETE_INGREDIENT: {\r\n      return { ...state, chosenIngredients: action.payload };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import {\r\n  GET_ORDER_DATA,\r\n  GET_ORDER_DATA_FAILED,\r\n  GET_ORDER_DATA_SUCCESS,\r\n  DELETE_ORDER_DATA\r\n} from '../actions/order';\r\n\r\nconst initialState = {\r\n  orderDetails: null,\r\n  orderRequest: false,\r\n  orderFailed: false,\r\n};\r\n\r\nexport const orderReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case GET_ORDER_DATA: {\r\n      return {\r\n        ...state,\r\n        orderRequest: true,\r\n        orderFailed: false,\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_FAILED: {\r\n      return {\r\n        ...state,\r\n        orderRequest: false,\r\n        orderFailed: true,\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        orderRequest: false,\r\n        orderDetails: action.payload,\r\n      };\r\n    }\r\n    case DELETE_ORDER_DATA: {\r\n      return {\r\n        ...state,\r\n        orderDetails: null,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","export const CHANGE_ORDER_DETAILS_POPUP_STATE = 'CHANGE_ORDER_DETAILS_POPUP_STATE';\r\nexport const CHANGE_INGREDIENTS_POPUP_STATE = 'CHANGE_INGREDIENTS_POPUP_STATE';","import {\r\n  CHANGE_ORDER_DETAILS_POPUP_STATE,\r\n  CHANGE_INGREDIENTS_POPUP_STATE\r\n} from '../actions/popup';\r\n\r\nconst initialState = {\r\n  isOrderDetailsPopupOpen: false,\r\n  isIngredientsPopupOpen: false,\r\n};\r\n\r\nexport const popupReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case CHANGE_ORDER_DETAILS_POPUP_STATE: {\r\n      return {\r\n        ...state,\r\n        isOrderDetailsPopupOpen: action.payload,\r\n      };\r\n    }\r\n    case CHANGE_INGREDIENTS_POPUP_STATE: {\r\n      return {\r\n        ...state,\r\n        isIngredientsPopupOpen: action.payload\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { ingredientsReducer } from './ingredients';\r\nimport { orderReducer } from './order';\r\nimport { popupReducer } from './popup';\r\n\r\nexport const rootReducer = combineReducers({\r\n  ingredientsData: ingredientsReducer,\r\n  orderData: orderReducer,\r\n  popupState: popupReducer,\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app.jsx';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { rootReducer } from './services/reducers/index';\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nReactDOM.render((\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>\r\n), document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient-details_container__1ZFLd\",\"list\":\"ingredient-details_list__2nkKo\",\"listItem\":\"ingredient-details_listItem__go-FH\",\"title\":\"ingredient-details_title__nbDdr\",\"header\":\"ingredient-details_header__2COJg\",\"closeButton\":\"ingredient-details_closeButton__2YrT1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"burger-constructor_list__I6ezH\",\"constructor_container\":\"burger-constructor_constructor_container__3nAJ9\",\"list_item\":\"burger-constructor_list_item__Zndc0\",\"button_container\":\"burger-constructor_button_container__1r4sm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"modal_container__3Uihb\",\"title\":\"modal_title__MEoQp\",\"header\":\"modal_header__3fbro\",\"closeButton\":\"modal_closeButton__3qeWl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"order-details_title__2JbNf\",\"text\":\"order-details_text__3PxFh\",\"container\":\"order-details_container__3KS0F\",\"header\":\"order-details_header__G-UoV\",\"closeButton\":\"order-details_closeButton__LegxB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__dD72x\",\"main_container\":\"main_main_container__2Egw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__WJwAR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__1J6KR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__qnhLB\",\"rotate\":\"loader_rotate__jeH32\"};"],"sourceRoot":""}