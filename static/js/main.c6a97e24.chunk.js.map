{"version":3,"sources":["components/app-header/app-header.module.css","components/ingredient/ingredient.module.css","components/app-header/app-header.jsx","utils/get-coords.js","components/ingredient/ingredient.jsx","components/burger-ingredients/burger-ingredients.jsx","utils/compare-coords.js","utils/Api.js","utils/constants.js","services/actions/order.js","components/chosen-ingredient/chosen-ingredient.jsx","components/burger-constructor/burger-constructor.jsx","components/main/main.jsx","images/done.gif","components/order-details/order-details.jsx","components/ingredient-details/ingredient-details.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/loader/loader.jsx","services/actions/ingredients.js","components/app/app.jsx","services/reducers/ingredients.js","services/reducers/order.js","services/actions/popup.js","services/reducers/popup.js","services/reducers/index.js","index.js","components/burger-ingredients/burger-ingredients.module.css","components/ingredient-details/ingredient-details.module.css","components/burger-constructor/burger-constructor.module.css","components/modal/modal.module.css","components/order-details/order-details.module.css","components/main/main.module.css","components/loader/loader.module.css","components/app/app.module.css","components/chosen-ingredient/chosen-ingredient.module.css","components/modal-overlay/modal-overlay.module.css"],"names":["module","exports","AppHeader","className","headerStyles","header","headerContainer","list","link_active","link","to","type","logo","profile","getCoords","elem","box","getBoundingClientRect","top","Math","round","scrollY","left","scrollX","Ingredient","ingredient","image","price","name","_id","dispatch","useDispatch","chosenIngredients","useSelector","state","ingredientsData","initialIngredients","ingredients","useDrag","item","collect","monitor","isDrag","isDragging","dragRef","ingredientCounter","forEach","onClick","evt","targetIngredient","find","currentTarget","dataset","id","selectedBun","selectedBunIndex","indexOf","chosenIngredientsClone","slice","splice","payload","onContextMenu","preventDefault","foundIngredient","ingredientStyles","list_item","moving","ref","alt","src","price_info","text","count","size","hint_icons","left_click_icon","right_click_icon","drag_icon","BurgerIngredients","useState","current","setCurrent","handleTabClick","document","querySelector","scrollIntoView","block","behavior","burgerIngredientsStyle","main_container","style","display","value","active","onScroll","target","addEventListener","bunTitleTopCoords","sauceTitleTopCoords","mainTitleTopCoords","mainContainerTopCoords","absoluteCoords","title","abs","coordsValues","map","coord","minValue","min","compareCoords","ingredients_container","mainApi","data","this","_baseUrl","res","ok","json","Promise","reject","status","statusText","fetch","then","_requestResult","ingredientsIds","burgerData","method","headers","body","JSON","stringify","GET_ORDER_DATA","GET_ORDER_DATA_FAILED","GET_ORDER_DATA_SUCCESS","DELETE_ORDER_DATA","ChosenIngredient","moveIngredient","index","useRef","useDrop","accept","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","opacity","drag","chosenIngredientStyle","thumbnail","handleClose","selectedIngredientIndex","BurgerConstructor","onDropHandler","totalSumm","useMemo","reduce","acc","cur","ingredientId","isHover","isOver","burgerIngredientsContainer","useCallback","ingredientWithTypeBan","filter","ingredientsWithoutBan","sortedIngredients","update","$splice","sortedInregientsWithBun","borderColor","bunElementHandler","property","trueValue","falseValue","DndProvider","backend","HTML5Backend","burgerConstructorStyle","constructor_container","constructor_element","length","isLocked","idx","button_container","disabled","sendIngredients","catch","err","getOrderData","Main","mainStyles","main","OrderDetails","orderData","orderDetails","orderDetailsStyles","container","order","number","doneGif","success","IngredientDetails","selectedIngredient","ingredientDetailsStyles","width","height","listItem","calories","proteins","fat","carbohydrates","ModalOverlay","isOrderDetailsPopupOpen","popupState","modalOverlayStyles","overlay","Modal","children","modalRoot","getElementById","useEffect","handleEscapeClose","key","removeEventListener","createPortal","modalStyles","closeButton","Loader","loaderStyles","loader_container","loader","GET_INGREDIENTS","GET_INGREDIENTS_FAILED","GET_INGREDIENTS_SUCCESS","SELECT_INGREDIENT","DELETE_SELECTED_INGREDIENT","ADD_INGREDIENT","DELETE_INGREDIENT","CHANGE_INGREDIENT_DRAG_STATE","SORT_INGREDIENTS","App","isIngredientsPopupOpen","ingredientsRequest","getIngredients","appStyles","app","initialState","ingredientsFailed","isElementDrag","orderRequest","orderFailed","CHANGE_ORDER_DETAILS_POPUP_STATE","CHANGE_INGREDIENTS_POPUP_STATE","rootReducer","combineReducers","action","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c6a97e24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__2Najp\",\"headerContainer\":\"app-header_headerContainer__sH8CK\",\"profile\":\"app-header_profile__46wYZ\",\"logo\":\"app-header_logo__2b8ll\",\"link\":\"app-header_link__1v2QL\",\"link_active\":\"app-header_link_active__m5wx3\",\"list\":\"app-header_list__NmE0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list_item\":\"ingredient_list_item__diaq-\",\"moving\":\"ingredient_moving__5edZ5\",\"hint_icons\":\"ingredient_hint_icons__rU8J1\",\"left_click_icon\":\"ingredient_left_click_icon__4SqWB\",\"right_click_icon\":\"ingredient_right_click_icon__2NAn6\",\"drag_icon\":\"ingredient_drag_icon__mpW7A\",\"image\":\"ingredient_image__gLmz8\",\"price_info\":\"ingredient_price_info__1IWXs\",\"text\":\"ingredient_text__cAlDL\"};","import { NavLink, Link } from 'react-router-dom';\r\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport headerStyles from './app-header.module.css';\r\n\r\nfunction AppHeader() {\r\n  return (\r\n    <header className={`${headerStyles.header} text text_type_main-default pt-4 pb-4`}>\r\n      <div className={headerStyles.headerContainer}>\r\n      <nav>\r\n        <ul className={headerStyles.list}>\r\n          <li>\r\n            <NavLink className={`pt-5 pr-5 pb-5 ${headerStyles.link_active} ${headerStyles.link}`} to=\"/\">\r\n              <BurgerIcon type=\"primary\" />\r\n              <span className={`ml-2`}>Конструктор</span>\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink className={`p-5 ${headerStyles.link}`} to=\"/\">\r\n              <ListIcon type=\"secondary\" />\r\n              <span className={`ml-2`}>Лента заказов</span>\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <div className={headerStyles.logo}>\r\n        <Logo />\r\n      </div>\r\n      <Link className={`p-5 ${headerStyles.link} ${headerStyles.profile}`} to=\"/\">\r\n        <ProfileIcon type=\"secondary\" />\r\n        <span className={`ml-2`}>Личный кабинет</span>\r\n      </Link>\r\n      </div>\r\n    </header >\r\n  );\r\n}\r\n\r\nexport default AppHeader;\r\n","/* eslint-disable no-restricted-globals */\r\nexport const getCoords = (elem) => {\r\n  let box = elem.getBoundingClientRect();\r\n\r\n  return {\r\n    top: Math.round(box.top + scrollY),\r\n    left: Math.round(box.left + scrollX)\r\n  };\r\n}","import ingredientStyles from './ingredient.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nfunction Ingredient({ ingredient }) {\r\n  const { image, price, name, _id } = ingredient;\r\n\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n  const initialIngredients = useSelector(state => state.ingredientsData.ingredients);\r\n\r\n  const [{ isDrag }, dragRef] = useDrag({\r\n    type: \"ingredient\",\r\n    item: { _id },\r\n    collect: monitor => ({\r\n      isDrag: monitor.isDragging(),\r\n    })\r\n  });\r\n\r\n  let ingredientCounter = 0;\r\n\r\n  chosenIngredients.forEach(ingredient => ingredient.name === name && (ingredient.type === 'bun' ? ingredientCounter += 2 : ingredientCounter += 1))\r\n\r\n  const handleChoseIngredient = (evt) => {\r\n    const targetIngredient = initialIngredients.find(ingredient => ingredient._id === evt.currentTarget.dataset.id)\r\n    const selectedBun = chosenIngredients.find(ingredient => ingredient.type === 'bun')\r\n    const selectedBunIndex = chosenIngredients.indexOf(selectedBun)\r\n\r\n    if (targetIngredient.type === 'bun' && selectedBun) {\r\n      const chosenIngredientsClone = chosenIngredients.slice();\r\n      chosenIngredientsClone.splice(selectedBunIndex, 1, targetIngredient);\r\n      dispatch({ type: 'ADD_INGREDIENT', payload: [...chosenIngredientsClone] });\r\n    } else {\r\n      dispatch({ type: 'ADD_INGREDIENT', payload: [...chosenIngredients, targetIngredient] });\r\n    }\r\n  }\r\n\r\n  const handleIngredientExplore = (evt) => {\r\n    evt.preventDefault()\r\n    const id = evt.currentTarget.dataset.id\r\n    const foundIngredient = initialIngredients.find(ingredient => ingredient._id === id)\r\n    dispatch({ type: 'SELECT_INGREDIENT', payload: foundIngredient });\r\n    dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: true });\r\n  }\r\n\r\n  return (\r\n    <li data-id={_id} onClick={handleChoseIngredient} onContextMenu={handleIngredientExplore} className={`${ingredientStyles.list_item} ${isDrag && ingredientStyles.moving}`} ref={dragRef}>\r\n      <img alt={name} src={image} className={`${ingredientStyles.image} ml-4 mr-4`} />\r\n      <div className={`${ingredientStyles.price_info} mt-4 mb-4`}>\r\n        <span className=\"text text_type_digits-default mr-2\">{price}</span>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </div>\r\n      <h3 className={`${ingredientStyles.text} text text_type_main-default`}>{name}</h3>\r\n      {ingredientCounter > 0 && <Counter count={ingredientCounter} size=\"default\" />}\r\n      <div className={`${ingredientStyles.hint_icons}`}>\r\n        <span className={`${ingredientStyles.left_click_icon}`}></span>\r\n        <span className={`${ingredientStyles.right_click_icon}`}></span>\r\n        <span className={`${ingredientStyles.drag_icon}`}></span>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Ingredient;\r\n","import { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerIngredientsStyle from './burger-ingredients.module.css';\r\nimport { compareCoords } from '../../utils/compare-coords';\r\nimport Ingredient from '../ingredient/ingredient';\r\n\r\nexport default function BurgerIngredients() {\r\n  const initialIngredients = useSelector(state => state.ingredientsData.ingredients)\r\n\r\n  const [current, setCurrent] = useState('bun')\r\n\r\n  const scrollHandler = (evt) => {\r\n    evt.target.addEventListener('scroll', function () {\r\n      setCurrent(compareCoords(burgerIngredientsStyle.main_container))\r\n    });\r\n  }\r\n\r\n  const handleTabClick = (type) => {\r\n    setCurrent(type)\r\n    document.querySelector(`#${type}`).scrollIntoView({ block: \"start\", behavior: \"smooth\" })\r\n  }\r\n\r\n  return (\r\n    <div className={burgerIngredientsStyle.main_container}>\r\n      <h1 className=\"mt-10 mb-5 text text_type_main-large\">Соберите бургер</h1>\r\n      <div style={{ display: 'flex' }}>\r\n        <Tab value=\"bun\" active={current === 'bun'} onClick={handleTabClick}>\r\n          Булки\r\n        </Tab>\r\n        <Tab value=\"sauce\" active={current === 'sauce'} onClick={handleTabClick}>\r\n          Соусы\r\n        </Tab>\r\n        <Tab value=\"main\" active={current === 'main'} onClick={handleTabClick}>\r\n          Начинки\r\n        </Tab>\r\n      </div>\r\n      <div onScroll={scrollHandler} className={`${burgerIngredientsStyle.ingredients_container} mt-10 ingredients-container`}>\r\n        <h2 id=\"bun\" className=\"mb-6 text text_type_main-medium\">\r\n          Булки\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'bun' && <Ingredient key={item._id} ingredient={item} />)}\r\n        </ul>\r\n        <h2 id=\"sauce\" className=\"mb-6 text text_type_main-medium\">\r\n          Соусы\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'sauce' && <Ingredient key={item._id} ingredient={item} />)}\r\n        </ul>\r\n        <h2 id=\"main\" className=\"mb-6 text text_type_main-medium\">\r\n          Начинки\r\n        </h2>\r\n        <ul className={`${burgerIngredientsStyle.list} pt-6 pb-10 pr-4 pl-4`}>\r\n          {initialIngredients.map((item) => item.type === 'main' && <Ingredient key={item._id} ingredient={item} />)}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import { getCoords } from './get-coords'\r\n\r\nexport const compareCoords = (className) => {\r\n  const bunTitleTopCoords = getCoords(document.querySelector('#bun')).top\r\n  const sauceTitleTopCoords = getCoords(document.querySelector('#sauce')).top\r\n  const mainTitleTopCoords = getCoords(document.querySelector('#main')).top\r\n  const mainContainerTopCoords = getCoords(document.querySelector(`.${className}`)).top\r\n\r\n  const absoluteCoords = [\r\n    {\r\n      title: 'bun',\r\n      value: Math.abs(mainContainerTopCoords - bunTitleTopCoords),\r\n    },\r\n    {\r\n      title: 'sauce',\r\n      value: Math.abs(mainContainerTopCoords - sauceTitleTopCoords),\r\n    },\r\n    {\r\n      title: 'main',\r\n      value: Math.abs(mainContainerTopCoords - mainTitleTopCoords)\r\n    },\r\n  ]\r\n\r\n  const coordsValues = absoluteCoords.map(coord => coord.value)\r\n  const minValue = Math.min(...coordsValues)\r\n  const targetBlockTitle = absoluteCoords.find(coord => coord.value === minValue).title\r\n\r\n  return targetBlockTitle\r\n}","import { BASE_URL } from '../utils/constants'\r\n\r\n//* Класс для взаимодействия с сервером\r\nclass Api {\r\n  constructor(data) {\r\n    this._baseUrl = data;\r\n  }\r\n\r\n  //* Проверка статуса запроса\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        `Что-то пошло не так: Ошибка ${res.status} - ${res.statusText}`\r\n      );\r\n    }\r\n  }\r\n\r\n  //* Запрос данных \r\n  getIngredients() {\r\n    return fetch(`${this._baseUrl}/ingredients`).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  sendIngredients(ingredientsIds) {\r\n    const burgerData = {\r\n      'ingredients': ingredientsIds\r\n    }\r\n\r\n    return fetch(`${this._baseUrl}/orders`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify(burgerData)\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nconst mainApi = new Api(BASE_URL);\r\n\r\nexport default mainApi;","export const BASE_URL = 'https://norma.nomoreparties.space/api'\r\n","import mainApi from '../../utils/Api';\r\n\r\nexport const GET_ORDER_DATA = 'GET_ORDER_DATA';\r\nexport const GET_ORDER_DATA_FAILED = 'GET_ORDER_DATA_FAILED';\r\nexport const GET_ORDER_DATA_SUCCESS = 'GET_ORDER_DATA_SUCCESS';\r\nexport const DELETE_ORDER_DATA = 'DELETE_ORDER_DATA'\r\n\r\nexport function getOrderData(ingredientsIds) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_ORDER_DATA,\r\n    })\r\n\r\n    mainApi.sendIngredients(ingredientsIds)\r\n      .then(data => {\r\n        if (data) {\r\n          dispatch({\r\n            type: GET_ORDER_DATA_SUCCESS,\r\n            payload: data\r\n          })\r\n          // dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: true })\r\n        }\r\n      })\r\n      .catch(err => dispatch({\r\n        type: GET_ORDER_DATA_FAILED\r\n      }))\r\n  }\r\n}","import chosenIngredientStyle from './chosen-ingredient.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { DragIcon, ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { useRef } from 'react';\r\n\r\nfunction ChosenIngredient({ ingredient, id, moveIngredient, index }) {\r\n  const { name, price, image, } = ingredient;\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n  const ref = useRef(null);\r\n\r\n  const [{ handlerId }, drop] = useDrop({\r\n    accept: 'chosen-ingredient',\r\n    collect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n      };\r\n    },\r\n    hover(item, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n      const clientOffset = monitor.getClientOffset();\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      moveIngredient(dragIndex - 1, hoverIndex - 1);\r\n\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: \"chosen-ingredient\",\r\n    item: () => {\r\n      return { id, index };\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  const opacity = isDragging ? 0 : 1;\r\n\r\n  drag(drop(ref));\r\n\r\n  const handleDeleteIngredient = (item) => () => {\r\n    const selectedIngredientIndex = chosenIngredients.indexOf(item)\r\n    const chosenIngredientsClone = chosenIngredients.slice();\r\n    chosenIngredientsClone.splice(selectedIngredientIndex, 1);\r\n    dispatch({ type: 'DELETE_INGREDIENT', payload: chosenIngredientsClone });\r\n  }\r\n\r\n\r\n  return (\r\n    <li ref={ref} style={{ opacity }} data-handler-id={handlerId} className={chosenIngredientStyle.list_item}>\r\n      <DragIcon />\r\n      <ConstructorElement\r\n        text={name}\r\n        price={price}\r\n        thumbnail={image}\r\n        handleClose={handleDeleteIngredient(ingredient)}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ChosenIngredient;\r\n","import { useMemo, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ConstructorElement, Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerConstructorStyle from './burger-constructor.module.css';\r\nimport { getOrderData } from '../../services/actions/order'\r\nimport { useDrop } from \"react-dnd\";\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport ChosenIngredient from '../chosen-ingredient/chosen-ingredient';\r\nimport update from 'immutability-helper';\r\n\r\nexport default function BurgerConstructor({ onDropHandler }) {\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n\r\n  const totalSumm = useMemo(() => chosenIngredients.reduce((acc, cur) => cur.type === 'bun' ? acc + (cur.price * 2) : acc + cur.price, 0), [chosenIngredients])\r\n\r\n  const [{ isHover }, burgerIngredientsContainer] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop(ingredientId) {\r\n      onDropHandler(ingredientId);\r\n    },\r\n    collect: monitor => ({\r\n      isHover: monitor.isOver(),\r\n    })\r\n  });\r\n\r\n  const moveIngredient = useCallback((dragIndex, hoverIndex) => {\r\n    const ingredientWithTypeBan = chosenIngredients.filter(ingredient => ingredient.type === 'bun')\r\n    const ingredientsWithoutBan = chosenIngredients.filter(ingredient => ingredient.type !== 'bun')\r\n    const sortedIngredients = update(ingredientsWithoutBan, {\r\n      $splice: [\r\n        [dragIndex, 1],\r\n        [hoverIndex, 0, ingredientsWithoutBan[dragIndex]],\r\n      ],\r\n    }, [ingredientsWithoutBan])\r\n    const sortedInregientsWithBun = [...ingredientWithTypeBan, ...sortedIngredients]\r\n\r\n    dispatch({ type: 'SORT_INGREDIENTS', payload: [...sortedInregientsWithBun] });\r\n\r\n  }, [chosenIngredients, dispatch]);\r\n\r\n  const borderColor = isHover ? '#5147F8' : 'transparent';\r\n\r\n  const handleOrderButtonClick = () => {\r\n    const ingredientsIds = chosenIngredients.map(ingredient => ingredient._id)\r\n    dispatch(getOrderData(ingredientsIds))\r\n    dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: true })\r\n  }\r\n\r\n  const bunElementHandler = (chosenIngredients, property, trueValue, falseValue) => chosenIngredients.find(ingredient => ingredient.type === 'bun') ? `${(chosenIngredients.find(ingredient => ingredient.type === 'bun'))[property]} ${trueValue}` : falseValue\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div ref={burgerIngredientsContainer} style={{ borderColor }} className={`${burgerConstructorStyle.constructor_container} mt-25 pt-5 pb-5`}>\r\n        <div className={`${burgerConstructorStyle.constructor_element} pr-5`}>\r\n          {\r\n            chosenIngredients.length > 0 ? <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={bunElementHandler(chosenIngredients, 'name', '(верх)', 'Выберите булку')}\r\n              price={bunElementHandler(chosenIngredients, 'price', '', '0')}\r\n              thumbnail={bunElementHandler(chosenIngredients, 'image', '', '')}\r\n\r\n            /> : <p className=\"text text_type_main-large pt-3\">\r\n              Выберите булку\r\n            </p>\r\n          }\r\n        </div>\r\n        <ul className={`${burgerConstructorStyle.list} pl-4 pr-4`}>\r\n          {chosenIngredients.map((ingredient, idx) =>\r\n            ingredient.type !== 'bun' && <ChosenIngredient key={`${ingredient._id}${idx}`} index={idx} moveIngredient={moveIngredient} ingredient={ingredient} id={`${ingredient._id}${idx}`} />\r\n          )}\r\n        </ul>\r\n        <div className=\"pr-5\">\r\n          {\r\n            chosenIngredients.length > 0 && <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={bunElementHandler(chosenIngredients, 'name', '(низ)', 'Выберите булку')}\r\n              price={bunElementHandler(chosenIngredients, 'price', '', '0')}\r\n              thumbnail={bunElementHandler(chosenIngredients, 'image', '', '')}\r\n            />\r\n          }\r\n        </div>\r\n\r\n        <div className={`${burgerConstructorStyle.button_container} pt-5 pr-5`}>\r\n          <div className='mr-10'>\r\n            <span className=\"text text_type_digits-medium mr-2\">{totalSumm}</span>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n          <Button disabled={chosenIngredients.length > 0 ? false : true} onClick={handleOrderButtonClick} className=\"pt-10\" type=\"primary\" size=\"medium\">\r\n            Оформить заказ\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n};","import { useDispatch, useSelector } from 'react-redux';\r\nimport BurgerIngredients from '../burger-ingredients/burger-ingredients';\r\nimport BurgerConstructor from '../burger-constructor/burger-constructor';\r\nimport mainStyles from './main.module.css';\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\nexport default function Main() {\r\n  const dispatch = useDispatch();\r\n  const chosenIngredients = useSelector(state => state.ingredientsData.chosenIngredients);\r\n  const initialIngredients = useSelector(state => state.ingredientsData.ingredients);\r\n\r\n  const handleDrop = (ingredientId) => {\r\n    const targetIngredient = initialIngredients.find(ingredient => ingredient._id === ingredientId._id)\r\n    const selectedBun = chosenIngredients.find(ingredient => ingredient.type === 'bun')\r\n    const selectedBunIndex = chosenIngredients.indexOf(selectedBun)\r\n\r\n    if (targetIngredient.type === 'bun' && selectedBun) {\r\n      const chosenIngredientsClone = chosenIngredients.slice();\r\n      chosenIngredientsClone.splice(selectedBunIndex, 1, targetIngredient);\r\n      dispatch({ type: 'ADD_INGREDIENT', payload: [...chosenIngredientsClone] });\r\n    } else {\r\n      dispatch({ type: 'ADD_INGREDIENT', payload: [...chosenIngredients, targetIngredient] });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className={mainStyles.main}>\r\n      <DndProvider backend={HTML5Backend}>\r\n        <section className={mainStyles.main_container}>\r\n          <BurgerIngredients />\r\n          <BurgerConstructor onDropHandler={handleDrop} />\r\n        </section>\r\n      </DndProvider>\r\n    </main>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/done.cc5a59a7.gif\";","import { useSelector } from 'react-redux';\r\nimport orderDetailsStyles from './order-details.module.css';\r\nimport doneGif from '../../images/done.gif';\r\n\r\nexport default function OrderDetails() {\r\n  const orderData = useSelector(state => state.orderData.orderDetails);\r\n  return (\r\n    <div className={`${orderDetailsStyles.container}`}>\r\n      <h3 className={`text text_type_digits-large pt-10 ${orderDetailsStyles.title}`}>{orderData.order.number}</h3>\r\n      <p className=\"text text_type_main-medium pt-8 pb-15\">\r\n        идентификатор заказа\r\n      </p>\r\n      <img className=\"pb-15\" src={doneGif} alt=\"чекаут\" />\r\n      <p className={`text text_type_main-default pb-2 ${orderDetailsStyles.text}`}>\r\n        {orderData.success ? `Ваш '${orderData.name}' начали готовить` : 'Ваш заказ в очереди на приготовление'}\r\n      </p>\r\n      {orderData.success && (<p className=\"text text_type_main-default text_color_inactive pb-15\">\r\n        Дождитесь готовности на орбитальной станции\r\n      </p>)}\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport { useSelector } from 'react-redux';\r\nimport ingredientDetailsStyles from './ingredient-details.module.css';\r\n\r\nexport default function IngredientDetails() {\r\n  const selectedIngredient = useSelector(state => state.ingredientsData.selectedIngredient);\r\n\r\n  return (\r\n    <div className={`${ingredientDetailsStyles.container}`}>\r\n      <img width=\"480\" height=\"240\" alt={selectedIngredient.name} src={selectedIngredient && selectedIngredient.image} />\r\n      <p className=\"text text_type_main-medium pt-4 pb-8\">{selectedIngredient && selectedIngredient.name}</p>\r\n      <ul className={`${ingredientDetailsStyles.list} pt-8`}>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Калории,ккал\r\n          </span>\r\n          {selectedIngredient.calories}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Белки, г\r\n          </span>\r\n          {selectedIngredient.proteins}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Жиры, г\r\n          </span>\r\n          {selectedIngredient.fat}\r\n        </li>\r\n        <li className={`${ingredientDetailsStyles.listItem} text text_type_main-default text_color_inactive`}>\r\n          <span>\r\n            Углеводы, г\r\n          </span>\r\n          {selectedIngredient.carbohydrates}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport modalOverlayStyles from './modal-overlay.module.css';\r\n\r\nexport default function ModalOverlay() {\r\n  const dispatch = useDispatch();\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n\r\n  const overlayClickHandler = () => {\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: false }) : dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: false });\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'DELETE_ORDER_DATA' }) : dispatch({ type: 'DELETE_SELECTED_INGREDIENT' })\r\n  }\r\n\r\n  return (\r\n    <div onClick={overlayClickHandler} className={modalOverlayStyles.overlay}>\r\n    </div>\r\n  );\r\n};","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport modalStyles from './modal.module.css';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport ModalOverlay from '../modal-overlay/modal-overlay';\r\n\r\nexport default function Modal({ children, title = '' }) {\r\n  const dispatch = useDispatch();\r\n  const modalRoot = document.getElementById(\"react-modals\");\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n\r\n  useEffect(() => {\r\n    const handleEscapeClose = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        isOrderDetailsPopupOpen ? dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: false }) : dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: false });\r\n        isOrderDetailsPopupOpen ? dispatch({ type: 'DELETE_ORDER_DATA' }) : dispatch({ type: 'DELETE_SELECTED_INGREDIENT' })\r\n      };\r\n    };\r\n\r\n    document.addEventListener('keyup', handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener('keyup', handleEscapeClose);\r\n    };\r\n  }, [dispatch, isOrderDetailsPopupOpen])\r\n\r\n  const closeButtonClickHandler = () => {\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'CHANGE_ORDER_DETAILS_POPUP_STATE', payload: false }) : dispatch({ type: 'CHANGE_INGREDIENTS_POPUP_STATE', payload: false });\r\n    isOrderDetailsPopupOpen ? dispatch({ type: 'DELETE_ORDER_DATA' }) : dispatch({ type: 'DELETE_SELECTED_INGREDIENT' })\r\n  }\r\n\r\n  return createPortal(\r\n    <>\r\n      <div className={`${modalStyles.container} pt-15 pr-10 pl-10 pb-15`}>\r\n        <header className={modalStyles.header}>\r\n          {title && (<h2 className={`${modalStyles.title} text text_type_main-large`}>{title}</h2>)}\r\n          <button onClick={closeButtonClickHandler} className={modalStyles.closeButton}>\r\n            <CloseIcon type=\"primary\" />\r\n          </button>\r\n        </header>\r\n        {children}\r\n      </div>\r\n      <ModalOverlay />\r\n    </>\r\n    , modalRoot\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  title: PropTypes.string,\r\n};","import loaderStyles from './loader.module.css';\r\n\r\nexport default function Loader() {\r\n\r\n  return (\r\n    <div className={loaderStyles.loader_container}>\r\n      <div className={loaderStyles.loader}></div>\r\n    </div>\r\n  );\r\n};\r\n","import mainApi from '../../utils/Api';\r\n\r\nexport const GET_INGREDIENTS = 'GET_INGREDIENTS';\r\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\r\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\r\n\r\nexport const SELECT_INGREDIENT = 'SELECT_INGREDIENT';\r\nexport const DELETE_SELECTED_INGREDIENT = 'DELETE_SELECTED_INGREDIENT';\r\n\r\nexport const ADD_INGREDIENT = 'ADD_INGREDIENT';\r\nexport const DELETE_INGREDIENT = 'DELETE_INGREDIENT';\r\n\r\nexport const CHANGE_INGREDIENT_DRAG_STATE = 'CHANGE_INGREDIENT_DRAG_STATE';\r\n\r\nexport const SORT_INGREDIENTS = 'SORT_INGREDIENTS'\r\n\r\nexport function getIngredients() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_INGREDIENTS,\r\n    })\r\n\r\n    mainApi.getIngredients()\r\n      .then(ingredientsData => {\r\n        if (ingredientsData) {\r\n          dispatch({\r\n            type: GET_INGREDIENTS_SUCCESS,\r\n            payload: ingredientsData.data\r\n          })\r\n        }\r\n      })\r\n      .catch(err => dispatch({\r\n        type: GET_INGREDIENTS_FAILED\r\n      }))\r\n  }\r\n}","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport appStyles from './app.module.css';\r\n\r\nimport AppHeader from '../app-header/app-header';\r\nimport Main from '../main/main';\r\nimport OrderDetails from '../order-details/order-details';\r\nimport IngredientDetails from '../ingredient-details/ingredient-details';\r\nimport Modal from '../modal/modal';\r\nimport Loader from '../loader/loader';\r\nimport { getIngredients } from '../../services/actions/ingredients';\r\n\r\nexport default function App() {\r\n  const orderData = useSelector(state => state.orderData.orderDetails);\r\n  const isIngredientsPopupOpen = useSelector(state => state.popupState.isIngredientsPopupOpen);\r\n  const isOrderDetailsPopupOpen = useSelector(state => state.popupState.isOrderDetailsPopupOpen);\r\n  const ingredientsRequest = useSelector(state => state.ingredientsData.ingredientsRequest);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getIngredients());\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className={`${appStyles.app} pb-10`}>\r\n      {\r\n        ingredientsRequest ? (<Loader />) :\r\n          <>\r\n            <AppHeader />\r\n            <Main />\r\n            {\r\n              isOrderDetailsPopupOpen && (\r\n                <Modal>\r\n                  {orderData ? <OrderDetails /> : <Loader />}\r\n                </Modal>\r\n              )\r\n            }\r\n            {\r\n              isIngredientsPopupOpen && (\r\n                <Modal title='Детали ингредиентов'>\r\n                  <IngredientDetails />\r\n                </Modal>\r\n              )\r\n            }\r\n          </>\r\n      }\r\n    </div >\r\n\r\n  );\r\n};","import {\r\n  GET_INGREDIENTS,\r\n  GET_INGREDIENTS_FAILED,\r\n  GET_INGREDIENTS_SUCCESS,\r\n  SELECT_INGREDIENT,\r\n  ADD_INGREDIENT,\r\n  DELETE_INGREDIENT,\r\n  DELETE_SELECTED_INGREDIENT,\r\n  CHANGE_INGREDIENT_DRAG_STATE,\r\n  SORT_INGREDIENTS\r\n} from '../actions/ingredients';\r\n\r\n\r\nconst initialState = {\r\n  ingredients: [],\r\n  selectedIngredient: null,\r\n  chosenIngredients: [],\r\n  ingredientsRequest: false,\r\n  ingredientsFailed: false,\r\n  isElementDrag: false,\r\n};\r\n\r\nexport const ingredientsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case CHANGE_INGREDIENT_DRAG_STATE: {\r\n      return {\r\n        ...state,\r\n        isElementDrag: action.payload,\r\n      };\r\n    }\r\n    case SORT_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        chosenIngredients: action.payload\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_FAILED: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: true,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredients: action.payload,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: true,\r\n        ingredientsFailed: false,\r\n      };\r\n    }\r\n    case SELECT_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        selectedIngredient: action.payload\r\n      };\r\n    }\r\n    case DELETE_SELECTED_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        selectedIngredient: null\r\n      };\r\n    }\r\n    case ADD_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        chosenIngredients: action.payload\r\n      };\r\n    }\r\n    case DELETE_INGREDIENT: {\r\n      return { ...state, chosenIngredients: action.payload };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import {\r\n  GET_ORDER_DATA,\r\n  GET_ORDER_DATA_FAILED,\r\n  GET_ORDER_DATA_SUCCESS,\r\n  DELETE_ORDER_DATA\r\n} from '../actions/order';\r\n\r\nconst initialState = {\r\n  orderDetails: null,\r\n  orderRequest: false,\r\n  orderFailed: false,\r\n};\r\n\r\nexport const orderReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case GET_ORDER_DATA: {\r\n      return {\r\n        ...state,\r\n        orderRequest: true,\r\n        orderFailed: false,\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_FAILED: {\r\n      return {\r\n        ...state,\r\n        orderRequest: false,\r\n        orderFailed: true,\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        orderRequest: false,\r\n        orderDetails: action.payload,\r\n      };\r\n    }\r\n    case DELETE_ORDER_DATA: {\r\n      return {\r\n        ...state,\r\n        orderDetails: null,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","export const CHANGE_ORDER_DETAILS_POPUP_STATE = 'CHANGE_ORDER_DETAILS_POPUP_STATE';\r\nexport const CHANGE_INGREDIENTS_POPUP_STATE = 'CHANGE_INGREDIENTS_POPUP_STATE';","import {\r\n  CHANGE_ORDER_DETAILS_POPUP_STATE,\r\n  CHANGE_INGREDIENTS_POPUP_STATE\r\n} from '../actions/popup';\r\n\r\nconst initialState = {\r\n  isOrderDetailsPopupOpen: false,\r\n  isIngredientsPopupOpen: false,\r\n};\r\n\r\nexport const popupReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case CHANGE_ORDER_DETAILS_POPUP_STATE: {\r\n      return {\r\n        ...state,\r\n        isOrderDetailsPopupOpen: action.payload,\r\n      };\r\n    }\r\n    case CHANGE_INGREDIENTS_POPUP_STATE: {\r\n      return {\r\n        ...state,\r\n        isIngredientsPopupOpen: action.payload\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { ingredientsReducer } from './ingredients';\r\nimport { orderReducer } from './order';\r\nimport { popupReducer } from './popup';\r\n\r\nexport const rootReducer = combineReducers({\r\n  ingredientsData: ingredientsReducer,\r\n  orderData: orderReducer,\r\n  popupState: popupReducer,\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app.jsx';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { rootReducer } from './services/reducers/index';\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nReactDOM.render((\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>\r\n), document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_container\":\"burger-ingredients_main_container__1ypSr\",\"list\":\"burger-ingredients_list__28pax\",\"ingredients_container\":\"burger-ingredients_ingredients_container__V2yiM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient-details_container__1ZFLd\",\"list\":\"ingredient-details_list__2nkKo\",\"listItem\":\"ingredient-details_listItem__go-FH\",\"title\":\"ingredient-details_title__nbDdr\",\"header\":\"ingredient-details_header__2COJg\",\"closeButton\":\"ingredient-details_closeButton__2YrT1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"burger-constructor_list__I6ezH\",\"constructor_container\":\"burger-constructor_constructor_container__3nAJ9\",\"button_container\":\"burger-constructor_button_container__1r4sm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"modal_container__3Uihb\",\"title\":\"modal_title__MEoQp\",\"header\":\"modal_header__3fbro\",\"closeButton\":\"modal_closeButton__3qeWl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"order-details_title__2JbNf\",\"text\":\"order-details_text__3PxFh\",\"container\":\"order-details_container__3KS0F\",\"header\":\"order-details_header__G-UoV\",\"closeButton\":\"order-details_closeButton__LegxB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__dD72x\",\"main_container\":\"main_main_container__2Egw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_container\":\"loader_loader_container__3u45p\",\"loader\":\"loader_loader__qnhLB\",\"rotate\":\"loader_rotate__jeH32\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__WJwAR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list_item\":\"chosen-ingredient_list_item__1qzNO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__1J6KR\"};"],"sourceRoot":""}